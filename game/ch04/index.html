<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ÏÑ∏Í∏àÍ≥º Í≤ΩÏ†ú - ÏÑ∏Ïã¨Ïù¥Ïùò Ïä§ÎÑ§Ïù¥ÌÅ¨ Í≤åÏûÑ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Noto+Sans+KR:wght@400;500;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            overflow: hidden;
            touch-action: none;
            user-select: none;
        }
        
        #game-container {
            width: 100vw;
            height: 100vh;
            height: calc(var(--vh, 1vh) * 100);
            position: relative;
            overflow: hidden;
        }
        
        /* ÏãúÏûë ÌôîÎ©¥ */
        #start-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, #2196F3 0%, #1976D2 50%, #0D47A1 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
            transition: opacity 0.5s, visibility 0.5s;
            padding: 10px;
            overflow-y: auto;
        }
        
        #start-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }
        
        .game-title {
            font-family: 'Noto Sans KR', sans-serif;
            font-weight: 500;
            font-size: clamp(1.6rem, 5vw, 2.8rem);
            color: #FFF;
            text-shadow: 2px 2px 0 #0D47A1, 4px 4px 0 rgba(0,0,0,0.3);
            margin-bottom: 5px;
            text-align: center;
        }
        
        .game-subtitle {
            font-size: clamp(0.85rem, 2.3vw, 1.2rem);
            color: #BBDEFB;
            font-weight: 500;
            margin-bottom: 15px;
            text-align: center;
        }
        
        /* ÏÑ∏Ïã¨Ïù¥ Ï∫êÎ¶≠ÌÑ∞ */
        .sesim-character {
            width: 90px;
            height: 108px;
            position: relative;
            margin: 12px auto;
            animation: float 2s ease-in-out infinite;
        }
        
        .sesim-character.small {
            width: 65px;
            height: 78px;
            margin: 8px auto;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }
        
        .sesim-body {
            width: 76px;
            height: 76px;
            background: linear-gradient(180deg, #4A3728 0%, #4A3728 45%, #FFD93D 45%, #FFD93D 100%);
            border-radius: 50%;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            border: 3px solid #3D2E1F;
        }
        
        .sesim-character.small .sesim-body {
            width: 55px;
            height: 55px;
        }
        
        .sesim-face {
            width: 54px;
            height: 38px;
            background: #FFE4B5;
            border-radius: 50%;
            position: absolute;
            top: 11px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .sesim-character.small .sesim-face {
            width: 38px;
            height: 27px;
            top: 8px;
        }
        
        .sesim-eye {
            width: 6px;
            height: 8px;
            background: #2D2D2D;
            border-radius: 50%;
            position: absolute;
            top: 13px;
        }
        
        .sesim-eye.left { left: 13px; }
        .sesim-eye.right { right: 13px; }
        
        .sesim-character.small .sesim-eye {
            width: 4px;
            height: 5px;
            top: 9px;
        }
        
        .sesim-character.small .sesim-eye.left { left: 9px; }
        .sesim-character.small .sesim-eye.right { right: 9px; }
        
        .sesim-mouth {
            width: 10px;
            height: 7px;
            background: #E85A4F;
            border-radius: 0 0 10px 10px;
            position: absolute;
            bottom: 9px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .sesim-character.small .sesim-mouth {
            width: 7px;
            height: 5px;
            bottom: 6px;
        }
        
        .sesim-cheek {
            width: 9px;
            height: 5px;
            background: #FFB6C1;
            border-radius: 50%;
            position: absolute;
            top: 21px;
            opacity: 0.7;
        }
        
        .sesim-cheek.left { left: 5px; }
        .sesim-cheek.right { right: 5px; }
        
        .sesim-character.small .sesim-cheek {
            width: 6px;
            height: 4px;
            top: 15px;
        }
        
        .sesim-character.small .sesim-cheek.left { left: 4px; }
        .sesim-character.small .sesim-cheek.right { right: 4px; }
        
        .sesim-antenna {
            width: 3px;
            height: 22px;
            background: #4A3728;
            position: absolute;
            top: -18px;
            border-radius: 2px;
        }
        
        .sesim-antenna.left { left: 27px; transform: rotate(-15deg); }
        .sesim-antenna.right { right: 27px; transform: rotate(15deg); }
        
        .sesim-character.small .sesim-antenna {
            width: 2px;
            height: 16px;
            top: -13px;
        }
        
        .sesim-character.small .sesim-antenna.left { left: 18px; }
        .sesim-character.small .sesim-antenna.right { right: 18px; }
        
        .sesim-antenna-ball {
            width: 10px;
            height: 10px;
            background: #FFD93D;
            border-radius: 50%;
            position: absolute;
            top: -6px;
            left: -3.5px;
            border: 2px solid #4A3728;
        }
        
        .sesim-character.small .sesim-antenna-ball {
            width: 7px;
            height: 7px;
            top: -4px;
            left: -2.5px;
        }
        
        .sesim-wing {
            width: 27px;
            height: 34px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            position: absolute;
            top: 22px;
            border: 2px solid rgba(150, 150, 150, 0.3);
            animation: wingFlap 0.15s ease-in-out infinite alternate;
        }
        
        .sesim-wing.left { left: -15px; transform: rotate(-20deg); }
        .sesim-wing.right { right: -15px; transform: rotate(20deg); animation-delay: 0.075s; }
        
        .sesim-character.small .sesim-wing {
            width: 18px;
            height: 24px;
            top: 16px;
        }
        
        .sesim-character.small .sesim-wing.left { left: -11px; }
        .sesim-character.small .sesim-wing.right { right: -11px; }
        
        @keyframes wingFlap {
            0% { transform: rotate(-20deg) scaleY(1); }
            100% { transform: rotate(-30deg) scaleY(0.9); }
        }
        
        .sesim-badge {
            width: 20px;
            height: 14px;
            background: #FFF;
            border: 1px solid #CCC;
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 2px;
            font-size: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
        }
        
        .sesim-character.small .sesim-badge {
            width: 14px;
            height: 10px;
            bottom: 11px;
            font-size: 4px;
        }
        
        .start-btn {
            font-family: 'Noto Sans KR', sans-serif;
            font-weight: 500;
            font-size: clamp(1.1rem, 3vw, 1.4rem);
            padding: 11px 45px;
            background: linear-gradient(180deg, #FFD700 0%, #FFA000 100%);
            color: #4A3728;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 0 #FF8F00, 0 7px 15px rgba(0,0,0,0.3);
            transition: all 0.1s;
            margin-top: 12px;
        }
        
        .start-btn:active {
            transform: translateY(3px);
            box-shadow: 0 2px 0 #FF8F00, 0 3px 8px rgba(0,0,0,0.3);
        }
        
        .instructions {
            margin-top: 15px;
            text-align: center;
            color: #E3F2FD;
            font-size: clamp(0.75rem, 2vw, 0.95rem);
            line-height: 1.6;
            background: rgba(0,0,0,0.3);
            padding: 10px 18px;
            border-radius: 12px;
            max-width: 92%;
        }
        
        .instructions strong {
            color: #FFD700;
        }
        
        /* Í≤åÏûÑ ÌôîÎ©¥ */
        #game-screen {
            width: 100%;
            height: 100%;
            display: none;
            position: relative;
            background: #1a1a2e;
        }
        
        #game-screen.active {
            display: block;
        }
        
        #game-canvas {
            width: 100%;
            height: 100%;
            display: block;
        }
        
        /* ÏùºÏãúÏ†ïÏßÄ Î≤ÑÌäº */
        #pause-btn {
            position: absolute;
            top: 82px;
            left: 50%;
            transform: translateX(-50%);
            height: 36px;
            padding: 0 16px;
            background: #FF5252;
            border: none;
            border-radius: 18px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 13px;
            font-weight: 700;
            color: #FFF;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 30;
            transition: all 0.1s;
        }
        
        #pause-btn:active {
            background: #D32F2F;
            transform: scale(0.95);
        }
        
        /* ÏùºÏãúÏ†ïÏßÄ Ïò§Î≤ÑÎ†àÏù¥ */
        #pause-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 50;
        }
        
        #pause-overlay.active {
            display: flex;
        }
        
        .pause-title {
            font-family: 'Noto Sans KR', sans-serif;
            font-weight: 500;
            font-size: clamp(1.5rem, 4vw, 2rem);
            color: #FFF;
            margin-bottom: 20px;
        }
        
        .pause-btn-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .pause-menu-btn {
            font-family: 'Noto Sans KR', sans-serif;
            font-weight: 500;
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            padding: 12px 40px;
            background: linear-gradient(180deg, #4CAF50 0%, #388E3C 100%);
            color: #FFF;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            box-shadow: 0 4px 0 #2E7D32, 0 6px 12px rgba(0,0,0,0.3);
            transition: all 0.1s;
        }
        
        .pause-menu-btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #2E7D32, 0 3px 6px rgba(0,0,0,0.3);
        }
        
        .pause-menu-btn.secondary {
            background: linear-gradient(180deg, #78909C 0%, #546E7A 100%);
            box-shadow: 0 4px 0 #455A64, 0 6px 12px rgba(0,0,0,0.3);
        }
        
        .pause-menu-btn.secondary:active {
            box-shadow: 0 2px 0 #455A64, 0 3px 6px rgba(0,0,0,0.3);
        }
        
        /* Í≤∞Í≥º ÌôîÎ©¥ */
        #result-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
            padding: 20px;
            overflow-y: auto;
        }
        
        #result-screen.active {
            display: flex;
        }
        
        #result-screen.win {
            background: linear-gradient(180deg, #FFE66D 0%, #FFB347 100%);
        }
        
        #result-screen.lose {
            background: linear-gradient(180deg, #546E7A 0%, #37474F 100%);
        }
        
        .result-title {
            font-family: 'Noto Sans KR', sans-serif;
            font-weight: 500;
            font-size: clamp(1.6rem, 5.5vw, 2.6rem);
            margin-bottom: 8px;
            animation: bounce 0.6s ease-in-out infinite;
        }
        
        #result-screen.win .result-title {
            color: #0D47A1;
            text-shadow: 2px 2px 0 #FFE66D;
        }
        
        #result-screen.lose .result-title {
            color: #FFF;
            text-shadow: 2px 2px 0 #263238;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }
        
        .result-stats {
            background: rgba(255,255,255,0.92);
            padding: 15px 25px;
            border-radius: 14px;
            margin: 10px 0;
            text-align: center;
        }
        
        .stat-row {
            font-size: clamp(0.9rem, 2.5vw, 1.1rem);
            color: #0D47A1;
            margin: 5px 0;
            font-weight: 500;
        }
        
        .achievement-badge {
            background: linear-gradient(180deg, #2196F3 0%, #1976D2 100%);
            color: #FFF;
            padding: 9px 20px;
            border-radius: 20px;
            font-family: 'Noto Sans KR', sans-serif;
            font-weight: 500;
            font-size: clamp(0.9rem, 2.4vw, 1.1rem);
            margin-top: 10px;
            box-shadow: 0 3px 12px rgba(0,0,0,0.2);
        }
        
        .result-btn-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }
        
        .end-btn {
            font-family: 'Noto Sans KR', sans-serif;
            font-weight: 500;
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            padding: 10px 35px;
            background: linear-gradient(180deg, #78909C 0%, #546E7A 100%);
            color: #FFF;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 0 #455A64, 0 6px 12px rgba(0,0,0,0.3);
            transition: all 0.1s;
        }
        
        .end-btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #455A64, 0 3px 6px rgba(0,0,0,0.3);
        }
        
        /* Î™®Î∞îÏùº Ïª®Ìä∏Î°§ */
        #mobile-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: grid;
            grid-template-areas: 
                ". up ."
                "left . right"
                ". down .";
            gap: 5px;
            z-index: 20;
        }
        
        .control-btn {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.3);
            border: 3px solid rgba(255, 255, 255, 0.6);
            border-radius: 15px;
            font-size: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.1s;
        }
        
        .control-btn:active {
            background: rgba(255, 255, 255, 0.5);
            transform: scale(0.95);
        }
        
        .control-btn.up { grid-area: up; }
        .control-btn.down { grid-area: down; }
        .control-btn.left { grid-area: left; }
        .control-btn.right { grid-area: right; }
        
        /* Î∞òÏùëÌòï - Î™®Î∞îÏùº ÏÑ∏Î°ú Î™®Îìú */
        @media screen and (max-height: 600px) {
            .sesim-character {
                width: 70px;
                height: 84px;
                margin: 8px auto;
            }
            
            .sesim-body {
                width: 60px;
                height: 60px;
            }
            
            .sesim-face {
                width: 42px;
                height: 30px;
                top: 9px;
            }
            
            .sesim-eye {
                width: 5px;
                height: 6px;
                top: 10px;
            }
            
            .sesim-eye.left { left: 10px; }
            .sesim-eye.right { right: 10px; }
            
            .sesim-mouth {
                width: 8px;
                height: 6px;
                bottom: 7px;
            }
            
            .sesim-cheek {
                width: 7px;
                height: 4px;
                top: 17px;
            }
            
            .sesim-cheek.left { left: 4px; }
            .sesim-cheek.right { right: 4px; }
            
            .sesim-antenna {
                width: 2px;
                height: 17px;
                top: -14px;
            }
            
            .sesim-antenna.left { left: 21px; }
            .sesim-antenna.right { right: 21px; }
            
            .sesim-antenna-ball {
                width: 8px;
                height: 8px;
                top: -5px;
                left: -3px;
            }
            
            .sesim-wing {
                width: 21px;
                height: 27px;
                top: 17px;
            }
            
            .sesim-wing.left { left: -12px; }
            .sesim-wing.right { right: -12px; }
            
            .sesim-badge {
                width: 16px;
                height: 11px;
                bottom: 12px;
                font-size: 4px;
            }
            
            .instructions {
                padding: 8px 14px;
                margin-top: 10px;
                line-height: 1.4;
            }
            
            .start-btn {
                padding: 9px 35px;
                margin-top: 8px;
            }
            
            #mobile-controls {
                bottom: 10px;
                gap: 3px;
            }
            
            .control-btn {
                width: 50px;
                height: 50px;
                font-size: 24px;
            }
        }
        
        @media screen and (max-height: 500px) {
            .sesim-character {
                width: 55px;
                height: 66px;
                margin: 5px auto;
            }
            
            .sesim-body {
                width: 47px;
                height: 47px;
            }
            
            .sesim-face {
                width: 33px;
                height: 23px;
                top: 7px;
            }
            
            .sesim-eye {
                width: 4px;
                height: 5px;
                top: 8px;
            }
            
            .sesim-eye.left { left: 8px; }
            .sesim-eye.right { right: 8px; }
            
            .sesim-mouth {
                width: 6px;
                height: 5px;
                bottom: 5px;
            }
            
            .sesim-cheek {
                width: 5px;
                height: 3px;
                top: 13px;
            }
            
            .sesim-cheek.left { left: 3px; }
            .sesim-cheek.right { right: 3px; }
            
            .sesim-antenna {
                width: 2px;
                height: 13px;
                top: -11px;
            }
            
            .sesim-antenna.left { left: 16px; }
            .sesim-antenna.right { right: 16px; }
            
            .sesim-antenna-ball {
                width: 6px;
                height: 6px;
                top: -4px;
                left: -2px;
            }
            
            .sesim-wing {
                width: 16px;
                height: 21px;
                top: 13px;
            }
            
            .sesim-wing.left { left: -9px; }
            .sesim-wing.right { right: -9px; }
            
            .sesim-badge {
                width: 12px;
                height: 8px;
                bottom: 9px;
                font-size: 3px;
            }
            
            .instructions {
                padding: 6px 12px;
                margin-top: 6px;
                font-size: clamp(0.65rem, 1.8vw, 0.85rem);
            }
            
            .start-btn {
                padding: 7px 28px;
                margin-top: 5px;
                font-size: clamp(0.95rem, 2.5vw, 1.2rem);
            }
            
            #mobile-controls {
                bottom: 5px;
                gap: 2px;
            }
            
            .control-btn {
                width: 45px;
                height: 45px;
                font-size: 20px;
                border-radius: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="game-container">
        <!-- ÏãúÏûë ÌôîÎ©¥ -->
        <div id="start-screen">
            <h1 class="game-title">üêç ÏÑ∏Í∏àÍ≥º Í≤ΩÏ†ú</h1>
            <p class="game-subtitle">ÏÑ∏Ïã¨Ïù¥Ïùò Ïä§ÎÑ§Ïù¥ÌÅ¨ Í≤åÏûÑ</p>
            
            <div class="sesim-character">
                <div class="sesim-body">
                    <div class="sesim-antenna left"><div class="sesim-antenna-ball"></div></div>
                    <div class="sesim-antenna right"><div class="sesim-antenna-ball"></div></div>
                    <div class="sesim-wing left"></div>
                    <div class="sesim-wing right"></div>
                    <div class="sesim-face">
                        <div class="sesim-eye left"></div>
                        <div class="sesim-eye right"></div>
                        <div class="sesim-cheek left"></div>
                        <div class="sesim-cheek right"></div>
                        <div class="sesim-mouth"></div>
                    </div>
                    <div class="sesim-badge">ÏÑ∏Ïã¨</div>
                </div>
            </div>
            
            <button class="start-btn" onclick="startGame()">Í≤åÏûÑ ÏãúÏûë!</button>
            
            <div class="instructions">
                üéÆ <strong>Í≤åÏûÑ Î∞©Î≤ï</strong><br>
                Î¨∏Ï†úÎ•º ÏùΩÍ≥† Ï†ïÎãµ ÏïÑÏù¥ÏΩòÏùÑ Î®πÏúºÏÑ∏Ïöî!<br><br>
                ‚¨ÜÔ∏è‚¨áÔ∏è‚¨ÖÔ∏è‚û°Ô∏è <strong>Î∞©Ìñ•ÌÇ§</strong> ÎòêÎäî <strong>ÌÑ∞Ïπò</strong>Î°ú Ïù¥Îèô<br>
                ‚úÖ Ï†ïÎãµÏùÑ Î®πÏúºÎ©¥ Ï†êÏàò ÌöçÎìù!<br>
                ‚ùå Ïò§ÎãµÏùÑ Î®πÍ±∞ÎÇò Î≤ΩÏóê Î∂ÄÎî™ÌûàÎ©¥ ÏÉùÎ™Ö Í∞êÏÜå!<br><br>
                üéØ 8Í∞úÏùò Î¨∏Ï†úÎ•º Î™®Îëê ÎßûÏ∂îÎ©¥ ÏäπÎ¶¨!
            </div>
        </div>
        
        <!-- Í≤åÏûÑ ÌôîÎ©¥ -->
        <div id="game-screen">
            <canvas id="game-canvas"></canvas>
            
            <button id="pause-btn" onclick="togglePause()">ÏùºÏãúÏ†ïÏßÄ</button>
            
            <!-- ÏùºÏãúÏ†ïÏßÄ Ïò§Î≤ÑÎ†àÏù¥ -->
            <div id="pause-overlay">
                <div class="pause-title">‚è∏Ô∏è ÏùºÏãú Ï†ïÏßÄ</div>
                <div class="pause-btn-group">
                    <button class="pause-menu-btn" onclick="resumeGame()">Í≥ÑÏÜçÌïòÍ∏∞</button>
                    <button class="pause-menu-btn secondary" onclick="restartFromPauseToStart()">Ï≤òÏùåÎ∂ÄÌÑ∞</button>
                </div>
            </div>
            
            <div id="mobile-controls">
                <button class="control-btn up" ontouchstart="setDirection(0,-1)" onclick="setDirection(0,-1)">‚¨ÜÔ∏è</button>
                <button class="control-btn left" ontouchstart="setDirection(-1,0)" onclick="setDirection(-1,0)">‚¨ÖÔ∏è</button>
                <button class="control-btn right" ontouchstart="setDirection(1,0)" onclick="setDirection(1,0)">‚û°Ô∏è</button>
                <button class="control-btn down" ontouchstart="setDirection(0,1)" onclick="setDirection(0,1)">‚¨áÔ∏è</button>
            </div>
        </div>
        
        <!-- Í≤∞Í≥º ÌôîÎ©¥ -->
        <div id="result-screen">
            <h1 class="result-title" id="result-title">üéâ Í≤åÏûÑ ÌÅ¥Î¶¨Ïñ¥!</h1>
            
            <div class="sesim-character small">
                <div class="sesim-body">
                    <div class="sesim-antenna left"><div class="sesim-antenna-ball"></div></div>
                    <div class="sesim-antenna right"><div class="sesim-antenna-ball"></div></div>
                    <div class="sesim-wing left"></div>
                    <div class="sesim-wing right"></div>
                    <div class="sesim-face">
                        <div class="sesim-eye left"></div>
                        <div class="sesim-eye right"></div>
                        <div class="sesim-cheek left"></div>
                        <div class="sesim-cheek right"></div>
                        <div class="sesim-mouth"></div>
                    </div>
                    <div class="sesim-badge">ÏÑ∏Ïã¨</div>
                </div>
            </div>
            
            <div class="result-stats">
                <div class="stat-row">‚úÖ ÎßûÏ∂ò Î¨∏Ï†ú: <span id="final-correct">8</span>/8</div>
                <div class="stat-row">üí∞ ÌöçÎìù Ï†êÏàò: <span id="final-score">0</span>Ï†ê</div>
                <div class="stat-row">‚ù§Ô∏è ÎÇ®ÏùÄ ÏÉùÎ™Ö: <span id="final-lives">3</span></div>
            </div>
            
            <div class="achievement-badge" id="achievement-badge">üèÜ Í≤ΩÏ†ú Ï†ÑÎ¨∏Í∞Ä!</div>
            
            <div class="result-btn-group">
                <button class="start-btn" onclick="restartGame()">Îã§Ïãú ÌïòÍ∏∞</button>
                <button class="end-btn" onclick="endGame()">Í≤åÏûÑ Ï¢ÖÎ£å</button>
            </div>
        </div>
    </div>

    <script>
        // Î™®Î∞îÏùº Î∑∞Ìè¨Ìä∏ ÎÜíÏù¥ ÏÑ§Ï†ï (Ï£ºÏÜåÏ∞Ω Îì± Í≥†Î†§)
        function setVH() {
            let vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }
        setVH();
        window.addEventListener('resize', setVH);
        window.addEventListener('orientationchange', () => {
            setTimeout(setVH, 100);
        });

        // Í≤åÏûÑ ÏÑ§Ï†ï - Í≤©Ïûê ÌÅ¨Í∏∞ 30% Ï¶ùÍ∞Ä (20 -> 26), Í≤©Ïûê Í∞úÏàòÎäî Í≥ÑÏÇ∞ Ïãú 30% Í∞êÏÜå Ï†ÅÏö©
        const CONFIG = {
            GRID_SIZE: 26,
            GAME_SPEED: 180,
            TOTAL_QUESTIONS: 8,
            INITIAL_LIVES: 3,
            GRID_REDUCTION: 0.7 // Í≤©Ïûê Í∞úÏàò 30% Í∞êÏÜå
        };

        // Í≤åÏûÑ ÏÉÅÌÉú
        let gameState = {
            isPlaying: false,
            isPaused: false,
            score: 0,
            lives: CONFIG.INITIAL_LIVES,
            currentQuestion: 0,
            correctAnswers: 0,
            screenFlash: null
        };

        // Ïä§ÎÑ§Ïù¥ÌÅ¨
        let snake = [];
        let direction = { x: 1, y: 0 };
        let nextDirection = { x: 1, y: 0 };

        // ÏïÑÏù¥ÌÖú (Ï†ïÎãµ 1Í∞ú, Ïò§Îãµ 2Í∞ú)
        let items = [];

        // Ï∫îÎ≤ÑÏä§
        let canvas, ctx;
        let canvasWidth, canvasHeight;
        let gridCols, gridRows;
        let gameAreaTop = 140; // Î¨∏Ï†ú ÏòÅÏó≠ ÎÜíÏù¥
        let gameAreaBottom = 200; // Ïª®Ìä∏Î°§ ÏòÅÏó≠ ÎÜíÏù¥
        let gameAreaLeft = 0; // Í≤åÏûÑ ÏòÅÏó≠ ÏôºÏ™Ω Ïò§ÌîÑÏÖã (Ï§ëÏïô Ï†ïÎ†¨Ïö©)

        // Í≤åÏûÑ Î£®ÌîÑ
        let gameLoopInterval;
        let animationFrameId;

        // Î¨∏Ï†ú Îç∞Ïù¥ÌÑ∞ (8Î¨∏Ï†ú)
        const questions = [
            {
                question: 'ÏÑ∏Í∏àÏù¥ Ïò§Î•¥Î©¥ Î¨ºÍ±¥ Í∞ÄÍ≤©ÏùÄ?',
                options: [
                    { icon: 'üìà', label: 'ÏÉÅÏäπ', isCorrect: true },
                    { icon: 'üìâ', label: 'ÌïòÎùΩ', isCorrect: false },
                    { icon: '‚û°Ô∏è', label: 'Ïú†ÏßÄ', isCorrect: false }
                ]
            },
            {
                question: 'Î¨ºÍ∞ÄÍ∞Ä Ïò§Î•¥Î©¥ ÏÜåÎπÑÎäî?',
                options: [
                    { icon: 'üìâ', label: 'Í∞êÏÜå', isCorrect: true },
                    { icon: 'üìà', label: 'Ï¶ùÍ∞Ä', isCorrect: false },
                    { icon: '‚û°Ô∏è', label: 'Ïú†ÏßÄ', isCorrect: false }
                ]
            },
            {
                question: 'Í∏∞ÏóÖ ÏÑ∏Í∏àÏù¥ ÎÇÆÏïÑÏßÄÎ©¥ Ìà¨ÏûêÎäî?',
                options: [
                    { icon: 'üìà', label: 'Ï¶ùÍ∞Ä', isCorrect: true },
                    { icon: 'üìâ', label: 'Í∞êÏÜå', isCorrect: false },
                    { icon: 'üí§', label: 'Ï†ïÏ≤¥', isCorrect: false }
                ]
            },
            {
                question: 'Ìà¨ÏûêÍ∞Ä ÎäòÎ©¥ Í≥†Ïö©ÏùÄ?',
                options: [
                    { icon: 'üë∑', label: 'Ï¶ùÍ∞Ä', isCorrect: true },
                    { icon: 'üò¢', label: 'Í∞êÏÜå', isCorrect: false },
                    { icon: 'üö´', label: 'ÏóÜÏùå', isCorrect: false }
                ]
            },
            {
                question: 'ÌôòÍ≤ΩÏÑ∏Ïùò Î™©Ï†ÅÏùÄ?',
                options: [
                    { icon: 'üåø', label: 'Ïò§ÏóºÍ∞êÏÜå', isCorrect: true },
                    { icon: 'üí∞', label: 'ÏÑ∏ÏàòÏ¶ùÎåÄ', isCorrect: false },
                    { icon: 'üè≠', label: 'ÏÉùÏÇ∞Ï¶ùÍ∞Ä', isCorrect: false }
                ]
            },
            {
                question: 'Îã¥Î±ÉÏÑ∏Í∞Ä Ïò§Î•¥Î©¥ Ìù°Ïó∞Ïú®ÏùÄ?',
                options: [
                    { icon: 'üìâ', label: 'Í∞êÏÜå', isCorrect: true },
                    { icon: 'üìà', label: 'Ï¶ùÍ∞Ä', isCorrect: false },
                    { icon: 'üîÑ', label: 'Î≥ÄÌôîÏóÜÏùå', isCorrect: false }
                ]
            },
            {
                question: 'ÏÑ∏Í∏àÏù¥ Î∂ÄÏ°±ÌïòÎ©¥ Í≥µÍ≥µÏÑúÎπÑÏä§Îäî?',
                options: [
                    { icon: 'üò∞', label: 'ÏïÖÌôî', isCorrect: true },
                    { icon: 'üòä', label: 'Í∞úÏÑ†', isCorrect: false },
                    { icon: 'üòê', label: 'Ïú†ÏßÄ', isCorrect: false }
                ]
            },
            {
                question: 'Í≥ºÎèÑÌïú ÏÑ∏Í∏àÏùÄ Í≤ΩÏ†úÏÑ±Ïû•ÏùÑ?',
                options: [
                    { icon: '‚¨áÔ∏è', label: 'Îñ®Ïñ¥Îú®Î¶º', isCorrect: true },
                    { icon: '‚¨ÜÔ∏è', label: 'ÎÜíÏûÑ', isCorrect: false },
                    { icon: '‚û°Ô∏è', label: 'Ïú†ÏßÄ', isCorrect: false }
                ]
            }
        ];

        // Ï¥àÍ∏∞Ìôî
        function init() {
            canvas = document.getElementById('game-canvas');
            ctx = canvas.getContext('2d');
            
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            
            // ÌÇ§Î≥¥Îìú Ïù¥Î≤§Ìä∏
            document.addEventListener('keydown', handleKeyDown);
        }

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            canvasWidth = canvas.width;
            canvasHeight = canvas.height;
            
            // Í∑∏Î¶¨Îìú Í≥ÑÏÇ∞ (30% Í∞êÏÜå Ï†ÅÏö©)
            const gameHeight = canvasHeight - gameAreaTop - gameAreaBottom;
            gridCols = Math.floor((canvasWidth / CONFIG.GRID_SIZE) * CONFIG.GRID_REDUCTION);
            gridRows = Math.floor((gameHeight / CONFIG.GRID_SIZE) * CONFIG.GRID_REDUCTION);
            
            // Í≤åÏûÑ ÏòÅÏó≠ Ï§ëÏïô Ï†ïÎ†¨ÏùÑ ÏúÑÌïú ÏôºÏ™Ω Ïò§ÌîÑÏÖã Í≥ÑÏÇ∞
            const gameAreaWidth = gridCols * CONFIG.GRID_SIZE;
            gameAreaLeft = Math.floor((canvasWidth - gameAreaWidth) / 2);
        }

        function handleKeyDown(e) {
            if (!gameState.isPlaying || gameState.isPaused) return;
            
            switch(e.key) {
                case 'ArrowUp':
                    if (direction.y !== 1) nextDirection = { x: 0, y: -1 };
                    break;
                case 'ArrowDown':
                    if (direction.y !== -1) nextDirection = { x: 0, y: 1 };
                    break;
                case 'ArrowLeft':
                    if (direction.x !== 1) nextDirection = { x: -1, y: 0 };
                    break;
                case 'ArrowRight':
                    if (direction.x !== -1) nextDirection = { x: 1, y: 0 };
                    break;
                case ' ':
                case 'Escape':
                    togglePause();
                    break;
            }
        }

        function setDirection(x, y) {
            if (!gameState.isPlaying || gameState.isPaused) return;
            
            // Î∞òÎåÄ Î∞©Ìñ•ÏúºÎ°úÎäî Ïù¥Îèô Î∂àÍ∞Ä
            if (x !== 0 && direction.x !== -x) {
                nextDirection = { x: x, y: 0 };
            } else if (y !== 0 && direction.y !== -y) {
                nextDirection = { x: 0, y: y };
            }
        }

        function startGame() {
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('game-screen').classList.add('active');
            
            resetGameState();
            setupQuestion();
            
            gameState.isPlaying = true;
            gameState.isPaused = false;
            gameLoopInterval = setInterval(gameLoop, CONFIG.GAME_SPEED);
            renderLoop();
        }

        function resetGameState() {
            gameState.score = 0;
            gameState.lives = CONFIG.INITIAL_LIVES;
            gameState.currentQuestion = 0;
            gameState.correctAnswers = 0;
            gameState.screenFlash = null;
            gameState.isPaused = false;
            
            // ÏïÑÏù¥ÌÖú Ï¥àÍ∏∞Ìôî
            items = [];
            
            // Ïä§ÎÑ§Ïù¥ÌÅ¨ Ï¥àÍ∏∞Ìôî
            const startX = Math.floor(gridCols / 2);
            const startY = Math.floor(gridRows / 2);
            snake = [
                { x: startX, y: startY },
                { x: startX - 1, y: startY },
                { x: startX - 2, y: startY }
            ];
            direction = { x: 1, y: 0 };
            nextDirection = { x: 1, y: 0 };
        }

        function setupQuestion() {
            const q = questions[gameState.currentQuestion];
            items = [];
            
            // ÏÖîÌîåÎêú ÏòµÏÖòÏúºÎ°ú ÏïÑÏù¥ÌÖú Î∞∞Ïπò
            const shuffledOptions = [...q.options].sort(() => Math.random() - 0.5);
            
            shuffledOptions.forEach((opt, index) => {
                let pos = getRandomEmptyPosition();
                items.push({
                    x: pos.x,
                    y: pos.y,
                    icon: opt.icon,
                    label: opt.label,
                    isCorrect: opt.isCorrect
                });
            });
        }

        function getRandomEmptyPosition() {
            let pos;
            let attempts = 0;
            do {
                pos = {
                    x: Math.floor(Math.random() * (gridCols - 4)) + 2,
                    y: Math.floor(Math.random() * (gridRows - 4)) + 2
                };
                attempts++;
            } while (isPositionOccupied(pos) && attempts < 100);
            return pos;
        }

        function isPositionOccupied(pos) {
            // Ïä§ÎÑ§Ïù¥ÌÅ¨ÏôÄ Í≤πÏπòÎäîÏßÄ ÌôïÏù∏
            for (const segment of snake) {
                if (segment.x === pos.x && segment.y === pos.y) return true;
            }
            // Îã§Î•∏ ÏïÑÏù¥ÌÖúÍ≥º Í≤πÏπòÎäîÏßÄ ÌôïÏù∏
            for (const item of items) {
                if (Math.abs(item.x - pos.x) < 3 && Math.abs(item.y - pos.y) < 3) return true;
            }
            return false;
        }

        function togglePause() {
            if (!gameState.isPlaying) return;
            
            if (gameState.isPaused) {
                resumeGame();
            } else {
                pauseGame();
            }
        }

        function pauseGame() {
            gameState.isPaused = true;
            if (gameLoopInterval) {
                clearInterval(gameLoopInterval);
                gameLoopInterval = null;
            }
            document.getElementById('pause-overlay').classList.add('active');
            document.getElementById('pause-btn').textContent = 'Í≥ÑÏÜçÌïòÍ∏∞';
        }

        function resumeGame() {
            gameState.isPaused = false;
            document.getElementById('pause-overlay').classList.remove('active');
            document.getElementById('pause-btn').textContent = 'ÏùºÏãúÏ†ïÏßÄ';
            gameLoopInterval = setInterval(gameLoop, CONFIG.GAME_SPEED);
            renderLoop();
        }

        function restartFromPause() {
            document.getElementById('pause-overlay').classList.remove('active');
            document.getElementById('pause-btn').textContent = 'ÏùºÏãúÏ†ïÏßÄ';
            
            if (gameLoopInterval) {
                clearInterval(gameLoopInterval);
                gameLoopInterval = null;
            }
            
            resetGameState();
            setupQuestion();
            
            gameState.isPlaying = true;
            gameLoopInterval = setInterval(gameLoop, CONFIG.GAME_SPEED);
            renderLoop();
        }

        function restartFromPauseToStart() {
            gameState.isPaused = false;
            gameState.isPlaying = false;
            document.getElementById('pause-overlay').classList.remove('active');
            document.getElementById('pause-btn').textContent = 'ÏùºÏãúÏ†ïÏßÄ';
            
            if (gameLoopInterval) {
                clearInterval(gameLoopInterval);
                gameLoopInterval = null;
            }
            if (animationFrameId) {
                cancelAnimationFrame(animationFrameId);
                animationFrameId = null;
            }
            
            document.getElementById('game-screen').classList.remove('active');
            document.getElementById('start-screen').classList.remove('hidden');
        }

        function gameLoop() {
            if (!gameState.isPlaying || gameState.isPaused) return;
            
            // Î∞©Ìñ• ÏóÖÎç∞Ïù¥Ìä∏
            direction = { ...nextDirection };
            
            // ÏÉà Î®∏Î¶¨ ÏúÑÏπò Í≥ÑÏÇ∞
            const newHead = {
                x: snake[0].x + direction.x,
                y: snake[0].y + direction.y
            };
            
            // Î≤Ω Ï∂©Îèå Ï≤¥ÌÅ¨
            if (newHead.x < 0 || newHead.x >= gridCols || 
                newHead.y < 0 || newHead.y >= gridRows) {
                handleWallCollision();
                return;
            }
            
            // ÏûêÍ∏∞ Î™∏ Ï∂©Îèå Ï≤¥ÌÅ¨
            for (let i = 0; i < snake.length; i++) {
                if (snake[i].x === newHead.x && snake[i].y === newHead.y) {
                    handleWallCollision();
                    return;
                }
            }
            
            // Î®∏Î¶¨ Ï∂îÍ∞Ä
            snake.unshift(newHead);
            
            // ÏïÑÏù¥ÌÖú Ï∂©Îèå Ï≤¥ÌÅ¨
            let ateItem = false;
            for (let i = items.length - 1; i >= 0; i--) {
                if (items[i].x === newHead.x && items[i].y === newHead.y) {
                    handleItemCollision(items[i]);
                    ateItem = true;
                    break;
                }
            }
            
            // ÏïÑÏù¥ÌÖúÏùÑ Î®πÏßÄ ÏïäÏïòÏúºÎ©¥ Íº¨Î¶¨ Ï†úÍ±∞
            if (!ateItem) {
                snake.pop();
            }
        }

        function handleWallCollision() {
            gameState.lives--;
            gameState.screenFlash = { color: 'rgba(244, 67, 54, 0.5)', time: 20 };
            
            if (gameState.lives <= 0) {
                gameOver(false);
            } else {
                // Ïä§ÎÑ§Ïù¥ÌÅ¨ ÏúÑÏπò Î¶¨ÏÖã
                const startX = Math.floor(gridCols / 2);
                const startY = Math.floor(gridRows / 2);
                snake = [
                    { x: startX, y: startY },
                    { x: startX - 1, y: startY },
                    { x: startX - 2, y: startY }
                ];
                direction = { x: 1, y: 0 };
                nextDirection = { x: 1, y: 0 };
            }
        }

        function handleItemCollision(item) {
            if (item.isCorrect) {
                // Ï†ïÎãµ!
                gameState.score += 100;
                gameState.correctAnswers++;
                gameState.screenFlash = { color: 'rgba(76, 175, 80, 0.4)', time: 15 };
                
                // Îã§Ïùå Î¨∏Ï†ú ÎòêÎäî Í≤åÏûÑ ÌÅ¥Î¶¨Ïñ¥
                if (gameState.currentQuestion >= CONFIG.TOTAL_QUESTIONS - 1) {
                    gameOver(true);
                } else {
                    gameState.currentQuestion++;
                    setupQuestion();
                }
            } else {
                // Ïò§Îãµ!
                gameState.lives--;
                gameState.screenFlash = { color: 'rgba(244, 67, 54, 0.5)', time: 20 };
                
                // Î®πÏùÄ ÏïÑÏù¥ÌÖúÎßå Ï†úÍ±∞ (Îã§Ïãú ÎèÑÏ†Ñ Í∞ÄÎä•)
                const idx = items.indexOf(item);
                if (idx > -1) items.splice(idx, 1);
                
                // Íº¨Î¶¨ Ïú†ÏßÄ (ÏÑ±Ïû•ÌïòÏßÄ ÏïäÏùå)
                snake.pop();
                
                if (gameState.lives <= 0) {
                    gameOver(false);
                }
            }
        }

        function gameOver(isWin) {
            gameState.isPlaying = false;
            gameState.isPaused = false;
            gameState.screenFlash = null;
            
            if (gameLoopInterval) {
                clearInterval(gameLoopInterval);
                gameLoopInterval = null;
            }
            
            if (animationFrameId) {
                cancelAnimationFrame(animationFrameId);
                animationFrameId = null;
            }
            
            document.getElementById('game-screen').classList.remove('active');
            const resultScreen = document.getElementById('result-screen');
            resultScreen.classList.add('active');
            resultScreen.classList.add(isWin ? 'win' : 'lose');
            
            document.getElementById('result-title').textContent = isWin ? 'üéâ Í≤åÏûÑ ÌÅ¥Î¶¨Ïñ¥!' : 'üò¢ Í≤åÏûÑ Ïò§Î≤Ñ';
            document.getElementById('final-correct').textContent = gameState.correctAnswers;
            document.getElementById('final-score').textContent = gameState.score;
            document.getElementById('final-lives').textContent = Math.max(0, gameState.lives);
            
            if (isWin) {
                document.getElementById('achievement-badge').textContent = 'üèÜ Í≤ΩÏ†ú Ï†ÑÎ¨∏Í∞Ä!';
            } else {
                document.getElementById('achievement-badge').textContent = 'Îã§Ïãú ÎèÑÏ†ÑÌï¥Î≥¥ÏÑ∏Ïöî!';
            }
        }

        function restartGame() {
            // Í∏∞Ï°¥ Ïù∏ÌÑ∞Î≤å Î∞è Ïï†ÎãàÎ©îÏù¥ÏÖò Ï†ïÎ¶¨
            if (gameLoopInterval) {
                clearInterval(gameLoopInterval);
                gameLoopInterval = null;
            }
            
            if (animationFrameId) {
                cancelAnimationFrame(animationFrameId);
                animationFrameId = null;
            }
            
            // Í≤∞Í≥º ÌôîÎ©¥ ÌÅ¥ÎûòÏä§ Î™®Îëê Ï†úÍ±∞
            const resultScreen = document.getElementById('result-screen');
            resultScreen.classList.remove('active', 'win', 'lose');
            
            // Í≤åÏûÑ ÌôîÎ©¥ ÌôúÏÑ±Ìôî
            document.getElementById('game-screen').classList.add('active');
            document.getElementById('pause-btn').textContent = 'ÏùºÏãúÏ†ïÏßÄ';
            document.getElementById('pause-overlay').classList.remove('active');
            
            // Í≤åÏûÑ ÏÉÅÌÉú ÏôÑÏ†Ñ Ï¥àÍ∏∞Ìôî
            resetGameState();
            setupQuestion();
            
            // Í≤åÏûÑ ÏãúÏûë
            gameState.isPlaying = true;
            gameState.isPaused = false;
            gameLoopInterval = setInterval(gameLoop, CONFIG.GAME_SPEED);
            renderLoop();
        }

        function endGame() {
            // Î∏åÎùºÏö∞Ï†Ä ÌÉ≠/Ï∞Ω Îã´Í∏∞
            window.close();
            // window.close()Í∞Ä ÏûëÎèôÌïòÏßÄ ÏïäÎäî Í≤ΩÏö∞ (ÏùºÎ∂Ä Î∏åÎùºÏö∞Ï†Ä Ï†úÌïú)
            // Îπà ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô
            setTimeout(() => {
                window.location.href = 'about:blank';
            }, 100);
        }

        function renderLoop() {
            draw();
            if (gameState.isPlaying && !gameState.isPaused) {
                animationFrameId = requestAnimationFrame(renderLoop);
            } else if (gameState.screenFlash) {
                animationFrameId = requestAnimationFrame(renderLoop);
            }
        }

        function draw() {
            // Î∞∞Í≤Ω
            ctx.fillStyle = '#1a1a2e';
            ctx.fillRect(0, 0, canvasWidth, canvasHeight);
            
            // Î¨∏Ï†ú ÏòÅÏó≠ Î∞∞Í≤Ω
            ctx.fillStyle = '#16213e';
            ctx.fillRect(0, 0, canvasWidth, gameAreaTop);
            
            // HUD
            drawHUD();
            
            // Î¨∏Ï†ú ÌëúÏãú
            drawQuestion();
            
            // Í≤åÏûÑ ÏòÅÏó≠ ÌÖåÎëêÎ¶¨
            ctx.strokeStyle = '#2196F3';
            ctx.lineWidth = 3;
            ctx.strokeRect(gameAreaLeft, gameAreaTop + 2, gridCols * CONFIG.GRID_SIZE, gridRows * CONFIG.GRID_SIZE);
            
            // Í∑∏Î¶¨Îìú (Ïó∞ÌïòÍ≤å)
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.05)';
            ctx.lineWidth = 1;
            for (let x = 0; x <= gridCols; x++) {
                ctx.beginPath();
                ctx.moveTo(gameAreaLeft + x * CONFIG.GRID_SIZE, gameAreaTop);
                ctx.lineTo(gameAreaLeft + x * CONFIG.GRID_SIZE, gameAreaTop + gridRows * CONFIG.GRID_SIZE);
                ctx.stroke();
            }
            for (let y = 0; y <= gridRows; y++) {
                ctx.beginPath();
                ctx.moveTo(gameAreaLeft, gameAreaTop + y * CONFIG.GRID_SIZE);
                ctx.lineTo(gameAreaLeft + gridCols * CONFIG.GRID_SIZE, gameAreaTop + y * CONFIG.GRID_SIZE);
                ctx.stroke();
            }
            
            // ÏïÑÏù¥ÌÖú
            items.forEach(item => drawItem(item));
            
            // Ïä§ÎÑ§Ïù¥ÌÅ¨
            drawSnake();
            
            // ÌôîÎ©¥ ÌîåÎûòÏãú
            if (gameState.screenFlash && gameState.screenFlash.time > 0) {
                ctx.fillStyle = gameState.screenFlash.color;
                ctx.fillRect(0, 0, canvasWidth, canvasHeight);
                gameState.screenFlash.time--;
                if (gameState.screenFlash.time <= 0) {
                    gameState.screenFlash = null;
                }
            }
        }

        function drawHUD() {
            const hudY = 15;
            
            // Ï†êÏàò
            ctx.fillStyle = '#FFD700';
            ctx.font = 'bold 14px Noto Sans KR';
            ctx.textAlign = 'left';
            ctx.fillText(`üí∞ ${gameState.score}`, 15, hudY + 12);
            
            // ÏÉùÎ™Ö
            ctx.fillStyle = '#FF5252';
            ctx.textAlign = 'center';
            ctx.fillText('‚ù§Ô∏è'.repeat(gameState.lives) + 'üñ§'.repeat(CONFIG.INITIAL_LIVES - gameState.lives), canvasWidth / 2, hudY + 12);
            
            // ÏßÑÌñâÎèÑ
            ctx.fillStyle = '#4CAF50';
            ctx.textAlign = 'right';
            ctx.fillText(`‚úÖ ${gameState.correctAnswers}/${CONFIG.TOTAL_QUESTIONS}`, canvasWidth - 60, hudY + 12);
        }

        function drawQuestion() {
            const q = questions[gameState.currentQuestion];
            
            // Î¨∏Ï†ú Î∞∞Í≤Ω
            ctx.fillStyle = 'rgba(33, 150, 243, 0.3)';
            ctx.beginPath();
            ctx.roundRect(10, 35, canvasWidth - 20, 45, 10);
            ctx.fill();
            
            // Î¨∏Ï†ú ÌÖçÏä§Ìä∏
            ctx.fillStyle = '#FFF';
            ctx.font = 'bold 16px Noto Sans KR';
            ctx.textAlign = 'center';
            ctx.fillText(`Q${gameState.currentQuestion + 1}. ${q.question}`, canvasWidth / 2, 55);
            
            // Î≥¥Í∏∞ ÏÑ§Î™Ö
            ctx.font = '12px Noto Sans KR';
            ctx.fillStyle = '#BBDEFB';
            const optionTexts = q.options.map(opt => `${opt.icon}=${opt.label}`).join('   ');
            ctx.fillText(optionTexts, canvasWidth / 2, 73);
            
            // Ï†ïÎãµ ÏïàÎÇ¥
            ctx.fillStyle = '#FFD700';
            ctx.font = 'bold 11px Noto Sans KR';
            ctx.fillText('üéØ Ï†ïÎãµ ÏïÑÏù¥ÏΩòÏùÑ Ï∞æÏïÑ Î®πÏúºÏÑ∏Ïöî!', canvasWidth / 2, 130);
        }

        function drawItem(item) {
            const x = gameAreaLeft + item.x * CONFIG.GRID_SIZE + CONFIG.GRID_SIZE / 2;
            const y = gameAreaTop + item.y * CONFIG.GRID_SIZE + CONFIG.GRID_SIZE / 2;
            
            // Í∏ÄÎ°úÏö∞ Ìö®Í≥º
            const gradient = ctx.createRadialGradient(x, y, 0, x, y, CONFIG.GRID_SIZE);
            if (item.isCorrect) {
                gradient.addColorStop(0, 'rgba(76, 175, 80, 0.5)');
            } else {
                gradient.addColorStop(0, 'rgba(255, 152, 0, 0.4)');
            }
            gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');
            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.arc(x, y, CONFIG.GRID_SIZE, 0, Math.PI * 2);
            ctx.fill();
            
            // Î∞∞Í≤Ω Ïõê - Í≤©Ïûê ÌÅ¨Í∏∞Ïóê ÎßûÍ≤å Ï°∞Ï†ï
            ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
            ctx.beginPath();
            ctx.arc(x, y, CONFIG.GRID_SIZE * 0.7, 0, Math.PI * 2);
            ctx.fill();
            
            // ÌÖåÎëêÎ¶¨
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // ÏïÑÏù¥ÏΩò - Í≤©Ïûê ÌÅ¨Í∏∞Ïóê ÎßûÍ≤å Ìè∞Ìä∏ Ï°∞Ï†ï (20 -> 26 ÎπÑÏú®)
            ctx.font = `${Math.round(26 * 1.3)}px sans-serif`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(item.icon, x, y);
        }

        function drawSnake() {
            snake.forEach((segment, index) => {
                const x = gameAreaLeft + segment.x * CONFIG.GRID_SIZE;
                const y = gameAreaTop + segment.y * CONFIG.GRID_SIZE;
                
                if (index === 0) {
                    // Î®∏Î¶¨ - ÏÑ∏Ïã¨Ïù¥ Ïä§ÌÉÄÏùº
                    drawSesimHead(x, y);
                } else {
                    // Î™∏ÌÜµ - Í≤©Ïûê ÌÅ¨Í∏∞Ïóê ÎßûÍ≤å Ï°∞Ï†ï
                    ctx.fillStyle = index % 2 === 0 ? '#4A3728' : '#FFD93D';
                    ctx.beginPath();
                    ctx.roundRect(x + 3, y + 3, CONFIG.GRID_SIZE - 6, CONFIG.GRID_SIZE - 6, 6);
                    ctx.fill();
                }
            });
        }

        function drawSesimHead(x, y) {
            const cx = x + CONFIG.GRID_SIZE / 2;
            const cy = y + CONFIG.GRID_SIZE / 2;
            const size = CONFIG.GRID_SIZE * 0.45;
            
            // Î™∏ÌÜµ
            ctx.fillStyle = '#4A3728';
            ctx.beginPath();
            ctx.arc(cx, cy, size, 0, Math.PI * 2);
            ctx.fill();
            
            // ÎÖ∏ÎûÄ Î∂ÄÎ∂Ñ
            ctx.fillStyle = '#FFD93D';
            ctx.beginPath();
            ctx.arc(cx, cy + size * 0.2, size * 0.7, 0.3, Math.PI - 0.3);
            ctx.fill();
            
            // ÏñºÍµ¥
            ctx.fillStyle = '#FFE4B5';
            ctx.beginPath();
            ctx.ellipse(cx, cy - size * 0.1, size * 0.6, size * 0.45, 0, 0, Math.PI * 2);
            ctx.fill();
            
            // Îàà (Î∞©Ìñ•Ïóê Îî∞Îùº) - ÌÅ¨Í∏∞ Ï°∞Ï†ï
            ctx.fillStyle = '#2D2D2D';
            const eyeOffsetX = direction.x * 2.5;
            const eyeOffsetY = direction.y * 2.5;
            ctx.beginPath();
            ctx.arc(cx - 4 + eyeOffsetX, cy - 2 + eyeOffsetY, 2.5, 0, Math.PI * 2);
            ctx.arc(cx + 4 + eyeOffsetX, cy - 2 + eyeOffsetY, 2.5, 0, Math.PI * 2);
            ctx.fill();
            
            // Î≥ºÌÑ∞Ïπò
            ctx.fillStyle = 'rgba(255, 182, 193, 0.6)';
            ctx.beginPath();
            ctx.ellipse(cx - 6, cy + 1, 2.5, 2, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.ellipse(cx + 6, cy + 1, 2.5, 2, 0, 0, Math.PI * 2);
            ctx.fill();
            
            // ÎçîÎì¨Ïù¥
            ctx.strokeStyle = '#4A3728';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(cx - 4, cy - size * 0.6);
            ctx.lineTo(cx - 6, cy - size * 0.9);
            ctx.moveTo(cx + 4, cy - size * 0.6);
            ctx.lineTo(cx + 6, cy - size * 0.9);
            ctx.stroke();
            
            // ÎçîÎì¨Ïù¥ Í≥µ
            ctx.fillStyle = '#FFD93D';
            ctx.beginPath();
            ctx.arc(cx - 6, cy - size * 0.95, 3, 0, Math.PI * 2);
            ctx.arc(cx + 6, cy - size * 0.95, 3, 0, Math.PI * 2);
            ctx.fill();
        }

        // ÏãúÏûë
        window.addEventListener('load', init);
    </script>
</body>
</html>
