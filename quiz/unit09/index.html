<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ“Š ì¡°ì„¸ì˜ íš¨ìœ¨ì„± í€´ì¦ˆ</title>
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1e3a5f;
            --secondary: #2d5a87;
            --accent: #ff6b35;
            --accent2: #f7c531;
            --success: #2ecc71;
            --danger: #e74c3c;
            --text: #ffffff;
            --text-dark: #1a1a2e;
            --easy: #2ecc71;
            --medium: #f39c12;
            --hard: #e74c3c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ë°°ê²½ ì¥ì‹ */
        .bg-decoration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
            pointer-events: none;
        }

        .bg-decoration::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 80%;
            height: 150%;
            background: radial-gradient(ellipse, rgba(255, 107, 53, 0.1) 0%, transparent 60%);
            animation: float 15s ease-in-out infinite;
        }

        .bg-decoration::after {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -20%;
            width: 70%;
            height: 100%;
            background: radial-gradient(ellipse, rgba(247, 197, 49, 0.08) 0%, transparent 60%);
            animation: float 20s ease-in-out infinite reverse;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(30px, 20px); }
        }

        /* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        /* í™”ë©´ ì „í™˜ */
        .screen {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ========== ì‹œì‘ í™”ë©´ ========== */
        .start-screen {
            text-align: center;
            padding-top: 5vh;
        }

        .quiz-logo {
            font-size: 4rem;
            margin-bottom: 15px;
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .unit-info {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px 30px;
            margin-bottom: 20px;
            display: inline-block;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .unit-number {
            font-size: 1.1rem;
            color: var(--accent2);
            font-weight: 700;
            margin-bottom: 5px;
        }

        .unit-title {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 1.4rem;
            color: var(--text);
            font-weight: 700;
            margin-bottom: 15px;
        }

        .lesson-number {
            font-size: 1rem;
            color: var(--accent);
            font-weight: 600;
        }

        .lesson-title {
            font-size: 1.2rem;
            color: var(--text);
            font-weight: 600;
        }

        .quiz-subtitle {
            font-size: 1.3rem;
            color: var(--accent2);
            margin-bottom: 30px;
            font-weight: 700;
        }

        .info-cards {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .info-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px 30px;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .info-card .number {
            font-size: 2rem;
            font-weight: 900;
            color: var(--accent2);
        }

        .info-card .label {
            font-size: 0.9rem;
            color: var(--text);
            opacity: 0.9;
        }

        .difficulty-preview {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .diff-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text);
            font-weight: 600;
            font-size: 0.9rem;
        }

        .diff-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
        }

        .diff-dot.easy { background: var(--easy); }
        .diff-dot.medium { background: var(--medium); }
        .diff-dot.hard { background: var(--hard); }

        .start-btn {
            background: linear-gradient(135deg, var(--accent), #ff8c5a);
            color: white;
            border: none;
            padding: 20px 60px;
            font-size: 1.5rem;
            font-weight: 900;
            border-radius: 60px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 40px rgba(255, 107, 53, 0.4);
            font-family: 'Noto Sans KR', sans-serif;
        }

        .start-btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 50px rgba(255, 107, 53, 0.5);
        }

        /* ========== í€´ì¦ˆ í™”ë©´ ========== */
        .quiz-screen {
            padding-top: 10px;
        }

        /* ìƒë‹¨ ë°” */
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            gap: 10px;
            flex-wrap: wrap;
        }

        .question-counter {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .counter-text {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text);
        }

        .difficulty-badge {
            padding: 6px 15px;
            border-radius: 30px;
            font-weight: 700;
            font-size: 0.9rem;
            color: white;
        }

        .difficulty-badge.easy { background: var(--easy); }
        .difficulty-badge.medium { background: var(--medium); }
        .difficulty-badge.hard { background: var(--hard); }

        /* íƒ€ì´ë¨¸ */
        .timer-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .timer-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: conic-gradient(var(--accent2) 0deg, rgba(255,255,255,0.1) 0deg);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
        }

        .timer-circle::before {
            content: '';
            position: absolute;
            width: 65px;
            height: 65px;
            background: var(--primary);
            border-radius: 50%;
        }

        .timer-text {
            position: relative;
            font-size: 1.6rem;
            font-weight: 900;
            color: var(--text);
            z-index: 1;
        }

        .timer-text.warning {
            color: var(--danger);
            animation: timerPulse 0.5s ease-in-out infinite;
        }

        @keyframes timerPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .timer-label {
            color: var(--text);
            font-size: 0.8rem;
            margin-top: 5px;
            opacity: 0.8;
        }

        /* ì ìˆ˜ */
        .score-box {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 12px 20px;
            text-align: center;
        }

        .score-value {
            font-size: 2rem;
            font-weight: 900;
            color: var(--accent2);
        }

        .score-label {
            font-size: 0.8rem;
            color: var(--text);
            opacity: 0.8;
        }

        /* ë¬¸ì œ ì¹´ë“œ */
        .question-card {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 25px;
            padding: 25px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.3);
            animation: cardAppear 0.6s ease;
        }

        @keyframes cardAppear {
            from { opacity: 0; transform: translateY(40px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .question-type {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 30px;
            font-size: 0.85rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: white;
        }

        .question-type.choice { background: linear-gradient(135deg, #667eea, #764ba2); }
        .question-type.ox { background: linear-gradient(135deg, #11998e, #38ef7d); }
        .question-type.blank { background: linear-gradient(135deg, #ee0979, #ff6a00); }

        .question-text {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-dark);
            line-height: 1.6;
            margin-bottom: 25px;
            text-align: center;
            word-break: keep-all;
        }

        .question-text .blank {
            display: inline-block;
            min-width: 100px;
            border-bottom: 3px solid var(--accent);
            margin: 0 5px;
            color: var(--accent);
        }

        /* ì„ íƒì§€ - ê°ê´€ì‹ 5ì§€ì„ ë‹¤ */
        .options-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-btn {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border: 3px solid transparent;
            border-radius: 15px;
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-family: 'Noto Sans KR', sans-serif;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            border-color: var(--accent);
        }

        .option-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: 900;
            flex-shrink: 0;
        }

        .option-text {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-dark);
            word-break: keep-all;
        }

        .option-btn.correct {
            background: linear-gradient(135deg, #d4edda, #b8e6c1);
            border-color: var(--success);
            animation: correctPop 0.5s ease;
        }

        .option-btn.correct .option-number {
            background: var(--success);
        }

        .option-btn.wrong {
            background: linear-gradient(135deg, #f8d7da, #f5c2c7);
            border-color: var(--danger);
            animation: shake 0.5s ease;
        }

        .option-btn.wrong .option-number {
            background: var(--danger);
        }

        @keyframes correctPop {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .option-btn:disabled {
            cursor: not-allowed;
        }

        /* O/X ë²„íŠ¼ */
        .ox-options {
            display: flex;
            justify-content: center;
            gap: 30px;
        }

        .ox-btn {
            width: 130px;
            height: 130px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            font-size: 4rem;
            font-weight: 900;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ox-btn.o-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.4);
        }

        .ox-btn.x-btn {
            background: linear-gradient(135deg, #ff6b6b, #ee5a5a);
            color: white;
            box-shadow: 0 10px 40px rgba(255, 107, 107, 0.4);
        }

        .ox-btn:hover:not(:disabled) {
            transform: translateY(-8px) scale(1.05);
        }

        .ox-btn.correct {
            background: linear-gradient(135deg, var(--success), #27ae60) !important;
            animation: correctPop 0.5s ease;
        }

        .ox-btn.wrong {
            background: linear-gradient(135deg, var(--danger), #c0392b) !important;
            animation: shake 0.5s ease;
        }

        /* ë¹ˆì¹¸ ì±„ìš°ê¸° */
        .blank-options {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .blank-btn {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(240, 147, 251, 0.4);
            font-family: 'Noto Sans KR', sans-serif;
        }

        .blank-btn:hover:not(:disabled) {
            transform: translateY(-5px) scale(1.05);
        }

        .blank-btn.correct {
            background: linear-gradient(135deg, var(--success), #27ae60) !important;
            animation: correctPop 0.5s ease;
        }

        .blank-btn.wrong {
            background: linear-gradient(135deg, var(--danger), #c0392b) !important;
            animation: shake 0.5s ease;
        }

        /* í”¼ë“œë°± ì˜¤ë²„ë ˆì´ */
        .feedback-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            padding: 20px;
        }

        .feedback-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .feedback-card {
            background: white;
            border-radius: 30px;
            padding: 30px;
            text-align: center;
            max-width: 500px;
            width: 100%;
            transform: scale(0.8);
            transition: transform 0.3s ease;
            max-height: 90vh;
            overflow-y: auto;
        }

        .feedback-overlay.show .feedback-card {
            transform: scale(1);
        }

        .feedback-icon {
            font-size: 4rem;
            margin-bottom: 15px;
        }

        .feedback-title {
            font-size: 1.8rem;
            font-weight: 900;
            margin-bottom: 15px;
        }

        .feedback-title.correct { color: var(--success); }
        .feedback-title.wrong { color: var(--danger); }
        .feedback-title.timeout { color: var(--medium); }

        .feedback-explanation {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: left;
            font-size: 0.95rem;
            line-height: 1.7;
            color: var(--text-dark);
            word-break: keep-all;
        }

        .next-btn {
            background: linear-gradient(135deg, var(--accent), #ff8c5a);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Noto Sans KR', sans-serif;
        }

        .next-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 107, 53, 0.4);
        }

        /* ========== ê²°ê³¼ í™”ë©´ ========== */
        .result-screen {
            text-align: center;
            padding-top: 5vh;
        }

        .result-icon {
            font-size: 5rem;
            margin-bottom: 15px;
            animation: bounce 2s ease-in-out infinite;
        }

        .result-title {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--text);
            margin-bottom: 10px;
        }

        .result-subtitle {
            font-size: 1.2rem;
            color: var(--accent2);
            margin-bottom: 30px;
            font-weight: 600;
        }

        .result-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            padding: 30px;
            max-width: 500px;
            margin: 0 auto 30px;
        }

        .final-score {
            font-size: 4rem;
            font-weight: 900;
            color: var(--accent);
        }

        .final-score-label {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 20px;
        }

        .result-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .result-stat {
            text-align: center;
        }

        .result-stat .value {
            font-size: 2rem;
            font-weight: 900;
            color: var(--text-dark);
        }

        .result-stat.correct .value { color: var(--success); }
        .result-stat.wrong .value { color: var(--danger); }

        .result-stat .label {
            font-size: 0.9rem;
            color: #666;
        }

        .message-box {
            background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
            border-radius: 15px;
            padding: 20px;
            font-size: 0.95rem;
            line-height: 1.7;
            color: var(--text-dark);
        }

        .restart-btn {
            background: linear-gradient(135deg, var(--success), #27ae60);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 1.3rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Noto Sans KR', sans-serif;
        }

        .restart-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(46, 204, 113, 0.4);
        }

        .result-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
        }

        .retry-wrong-btn {
            background: linear-gradient(135deg, var(--accent), #ff8c5a);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 1.3rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Noto Sans KR', sans-serif;
        }

        .retry-wrong-btn:hover:not(:disabled) {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 107, 53, 0.4);
        }

        .retry-wrong-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            box-shadow: none;
        }

        /* ========== ëª¨ë°”ì¼ ë°˜ì‘í˜• ========== */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .start-screen {
                padding-top: 3vh;
            }

            .quiz-logo {
                font-size: 3rem;
                margin-bottom: 10px;
            }

            .unit-info {
                padding: 15px 20px;
                margin-bottom: 15px;
            }

            .unit-number {
                font-size: 0.95rem;
            }

            .unit-title {
                font-size: 1.15rem;
                margin-bottom: 10px;
            }

            .lesson-number {
                font-size: 0.9rem;
            }

            .lesson-title {
                font-size: 1.05rem;
            }

            .quiz-subtitle {
                font-size: 1.1rem;
                margin-bottom: 20px;
            }

            .info-cards {
                gap: 10px;
                margin-bottom: 20px;
            }

            .info-card {
                padding: 15px 20px;
                border-radius: 15px;
            }

            .info-card .number {
                font-size: 1.6rem;
            }

            .info-card .label {
                font-size: 0.8rem;
            }

            .difficulty-preview {
                gap: 15px;
                margin-bottom: 20px;
            }

            .diff-item {
                font-size: 0.85rem;
            }

            .start-btn {
                padding: 16px 45px;
                font-size: 1.3rem;
            }

            /* í€´ì¦ˆ í™”ë©´ ëª¨ë°”ì¼ */
            .quiz-screen {
                padding-top: 5px;
            }

            .top-bar {
                flex-direction: row;
                justify-content: space-between;
                gap: 8px;
                margin-bottom: 15px;
            }

            .question-counter {
                padding: 8px 12px;
                order: 1;
            }

            .counter-text {
                font-size: 0.9rem;
            }

            .difficulty-badge {
                padding: 4px 10px;
                font-size: 0.75rem;
            }

            .timer-container {
                order: 2;
            }

            .timer-circle {
                width: 60px;
                height: 60px;
            }

            .timer-circle::before {
                width: 48px;
                height: 48px;
            }

            .timer-text {
                font-size: 1.3rem;
            }

            .timer-label {
                display: none;
            }

            .score-box {
                padding: 8px 12px;
                order: 3;
            }

            .score-value {
                font-size: 1.4rem;
            }

            .score-label {
                font-size: 0.7rem;
            }

            .question-card {
                padding: 20px 15px;
                border-radius: 20px;
            }

            .question-type {
                padding: 5px 12px;
                font-size: 0.75rem;
                margin-bottom: 12px;
            }

            .question-text {
                font-size: 1.1rem;
                margin-bottom: 20px;
                line-height: 1.5;
            }

            .question-text .blank {
                min-width: 80px;
            }

            .options-grid {
                gap: 10px;
            }

            .option-btn {
                padding: 12px 15px;
                border-radius: 12px;
                gap: 12px;
            }

            .option-number {
                width: 32px;
                height: 32px;
                font-size: 1rem;
            }

            .option-text {
                font-size: 0.9rem;
            }

            .ox-options {
                gap: 20px;
            }

            .ox-btn {
                width: 100px;
                height: 100px;
                font-size: 3rem;
            }

            .blank-options {
                gap: 10px;
            }

            .blank-btn {
                padding: 12px 20px;
                font-size: 0.95rem;
            }

            /* í”¼ë“œë°± ëª¨ë°”ì¼ */
            .feedback-overlay {
                padding: 15px;
            }

            .feedback-card {
                padding: 25px 20px;
                border-radius: 25px;
            }

            .feedback-icon {
                font-size: 3rem;
                margin-bottom: 10px;
            }

            .feedback-title {
                font-size: 1.5rem;
                margin-bottom: 12px;
            }

            .feedback-explanation {
                padding: 15px;
                font-size: 0.9rem;
                margin-bottom: 15px;
            }

            .next-btn {
                padding: 12px 30px;
                font-size: 1.1rem;
            }

            /* ê²°ê³¼ í™”ë©´ ëª¨ë°”ì¼ */
            .result-screen {
                padding-top: 3vh;
            }

            .result-icon {
                font-size: 4rem;
            }

            .result-title {
                font-size: 2rem;
            }

            .result-subtitle {
                font-size: 1rem;
                margin-bottom: 20px;
            }

            .result-card {
                padding: 25px 20px;
                border-radius: 25px;
            }

            .final-score {
                font-size: 3rem;
            }

            .final-score-label {
                font-size: 1rem;
            }

            .result-stats {
                gap: 20px;
            }

            .result-stat .value {
                font-size: 1.6rem;
            }

            .result-stat .label {
                font-size: 0.8rem;
            }

            .message-box {
                padding: 15px;
                font-size: 0.9rem;
            }

            .restart-btn {
                padding: 15px 40px;
                font-size: 1.1rem;
            }

            .retry-wrong-btn {
                padding: 15px 40px;
                font-size: 1.1rem;
            }

            .result-buttons {
                gap: 12px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }

            .quiz-logo {
                font-size: 2.5rem;
            }

            .unit-info {
                padding: 12px 15px;
            }

            .unit-title {
                font-size: 1.05rem;
            }

            .lesson-title {
                font-size: 0.95rem;
            }

            .info-card {
                padding: 12px 15px;
            }

            .info-card .number {
                font-size: 1.4rem;
            }

            .start-btn {
                padding: 14px 35px;
                font-size: 1.1rem;
            }

            .question-text {
                font-size: 1rem;
            }

            .option-text {
                font-size: 0.85rem;
            }

            .ox-btn {
                width: 85px;
                height: 85px;
                font-size: 2.5rem;
            }

            .blank-btn {
                padding: 10px 18px;
                font-size: 0.9rem;
            }

            .result-title {
                font-size: 1.7rem;
            }

            .final-score {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="bg-decoration"></div>
    
    <div class="container">
        <!-- ì‹œì‘ í™”ë©´ -->
        <div id="startScreen" class="screen active start-screen">
            <div class="quiz-logo">ğŸ“Š</div>
            
            <div class="unit-info">
                <div class="unit-number">â…¢. ìš°ë¦¬ ì‚¬íšŒì˜ ì¡°ì„¸ ì •ì±… ì›ì¹™ê³¼ ê· í˜•</div>
                <div class="unit-title"></div>
                <div class="lesson-number">09ì°¨ì‹œ</div>
                <div class="lesson-title">ì¡°ì„¸ì˜ íš¨ìœ¨ì„±</div>
            </div>
            
            <p class="quiz-subtitle">ğŸ¯ í•™ìŠµ ë‚´ìš©ì„ í€´ì¦ˆë¡œ í™•ì¸í•´ ë³´ì„¸ìš”!</p>
            
            <div class="info-cards">
                <div class="info-card">
                    <div class="number">10</div>
                    <div class="label">ë¬¸ì œ ìˆ˜</div>
                </div>
                <div class="info-card">
                    <div class="number">15ì´ˆ</div>
                    <div class="label">ì œí•œ ì‹œê°„</div>
                </div>
                <div class="info-card">
                    <div class="number">100</div>
                    <div class="label">ë§Œì </div>
                </div>
            </div>

            <div class="difficulty-preview">
                <div class="diff-item">
                    <div class="diff-dot easy"></div>
                    <span>ì‰¬ì›€</span>
                </div>
                <div class="diff-item">
                    <div class="diff-dot medium"></div>
                    <span>ë³´í†µ</span>
                </div>
                <div class="diff-item">
                    <div class="diff-dot hard"></div>
                    <span>ì–´ë ¤ì›€</span>
                </div>
            </div>

            <button class="start-btn" onclick="startQuiz()">ğŸš€ í€´ì¦ˆ ì‹œì‘!</button>
        </div>

        <!-- í€´ì¦ˆ í™”ë©´ -->
        <div id="quizScreen" class="screen quiz-screen">
            <div class="top-bar">
                <div class="question-counter">
                    <span class="counter-text" id="questionCounter">1 / 10</span>
                    <span class="difficulty-badge easy" id="difficultyBadge">ì‰¬ì›€</span>
                </div>
                
                <div class="timer-container">
                    <div class="timer-circle" id="timerCircle">
                        <span class="timer-text" id="timerText">15</span>
                    </div>
                    <span class="timer-label">ë‚¨ì€ ì‹œê°„</span>
                </div>

                <div class="score-box">
                    <div class="score-value" id="currentScore">0</div>
                    <div class="score-label">í˜„ì¬ ì ìˆ˜</div>
                </div>
            </div>

            <div class="question-card" id="questionCard">
                <span class="question-type choice" id="questionType">ê°ê´€ì‹</span>
                <p class="question-text" id="questionText">ë¬¸ì œê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
                <div id="optionsContainer">
                    <!-- ì„ íƒì§€ê°€ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>

        <!-- í”¼ë“œë°± ì˜¤ë²„ë ˆì´ -->
        <div class="feedback-overlay" id="feedbackOverlay">
            <div class="feedback-card">
                <div class="feedback-icon" id="feedbackIcon">ğŸ‰</div>
                <h2 class="feedback-title correct" id="feedbackTitle">ì •ë‹µì…ë‹ˆë‹¤!</h2>
                <div class="feedback-explanation" id="feedbackExplanation">
                    ì„¤ëª…ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
                </div>
                <button class="next-btn" id="nextBtn" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ â†’</button>
            </div>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div id="resultScreen" class="screen result-screen">
            <div class="result-icon" id="resultIcon">ğŸ†</div>
            <h1 class="result-title" id="resultTitle">í›Œë¥­í•´ìš”!</h1>
            <p class="result-subtitle" id="resultSubtitle">ì •ë¶€ì™€ ì •ë¶€ ìš´ì˜ì— ëŒ€í•´ ì˜ ì´í•´í–ˆì–´ìš”!</p>

            <div class="result-card">
                <div class="final-score" id="finalScore">80</div>
                <div class="final-score-label">ìµœì¢… ì ìˆ˜</div>

                <div class="result-stats">
                    <div class="result-stat correct">
                        <div class="value" id="correctCount">8</div>
                        <div class="label">ì •ë‹µ</div>
                    </div>
                    <div class="result-stat wrong">
                        <div class="value" id="wrongCount">2</div>
                        <div class="label">ì˜¤ë‹µ</div>
                    </div>
                    <div class="result-stat">
                        <div class="value" id="avgTime">8.5ì´ˆ</div>
                        <div class="label">í‰ê·  ì‘ë‹µì‹œê°„</div>
                    </div>
                </div>

            </div>

            <div class="result-buttons">
                <button class="retry-wrong-btn" id="retryWrongBtn" onclick="retryWrongQuestions()">ğŸ” í‹€ë¦° ë¬¸ì œ ë‹¤ì‹œ í’€ê¸°</button>
                <button class="restart-btn" onclick="restartQuiz()">ğŸ”„ ì „ì²´ ë¬¸ì œ ë‹¤ì‹œ í’€ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        // í€´ì¦ˆ ë°ì´í„° - 10ë¬¸ì œ (O/X 3ë¬¸ì œ, ê°ê´€ì‹ 4ë¬¸ì œ, ë¹ˆì¹¸ì±„ìš°ê¸° 2ë¬¸ì œ + ì¶”ê°€ 1ë¬¸ì œ)
        const quizData = [
            // ì‰¬ì›€ (4ë¬¸ì œ)
            {
                type: 'ox',
                difficulty: 'easy',
                question: 'ì„¸ê¸ˆì€ ë§ì´ ê±·ì„ìˆ˜ë¡ ì¢‹ë‹¤.',
                answer: false,
                explanation: '<strong>ì •ë‹µ: X</strong><br><br>ì„¸ê¸ˆì´ ì§€ë‚˜ì¹˜ê²Œ ë†’ì•„ì§€ë©´ ë¬¼ê±´ ê°’ì´ë‚˜ ìƒì‚° ë¹„ìš©ì´ ì˜¤ë¥´ê³ , ì‚¬ëŒë“¤ì€ ì†Œë¹„ì™€ íˆ¬ìë¥¼ ì¤„ì´ê²Œ ë©ë‹ˆë‹¤. <strong>ì ì ˆí•œ ìˆ˜ì¤€ì˜ ì„¸ê¸ˆ</strong>ì€ êµ­ê°€ ìš´ì˜ê³¼ ì‚¬íšŒ ì•ˆì •ì— í•„ìš”í•˜ì§€ë§Œ, ê³¼ë„í•œ ì„¸ê¸ˆì€ ê²½ì œ ì„±ì¥ì„ ë–¨ì–´ëœ¨ë¦¬ê³  ë¶€ì‘ìš©ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
            },
            {
                type: 'ox',
                difficulty: 'easy',
                question: 'ì¡°ì„¸ì˜ íš¨ìœ¨ì„±ì´ë€ í•„ìš”í•œ ì„¸ê¸ˆì„ í™•ë³´í•˜ë©´ì„œë„ êµ­ë¯¼ì˜ ê²½ì œ í™œë™ì„ ì§€ë‚˜ì¹˜ê²Œ ìœ„ì¶•ì‹œí‚¤ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤.',
                answer: true,
                explanation: '<strong>ì •ë‹µ: O</strong><br><br><strong>ì¡°ì„¸ì˜ íš¨ìœ¨ì„±</strong>ì´ë€ í•„ìš”í•œ ì„¸ê¸ˆì„ í™•ë³´í•˜ë©´ì„œë„ êµ­ë¯¼ì˜ ê²½ì œ í™œë™ì„ ì§€ë‚˜ì¹˜ê²Œ ìœ„ì¶•ì‹œí‚¤ì§€ ì•ŠëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ì‚¬íšŒ ì „ì²´ì˜ ê±°ë˜ì™€ ìƒì‚°, ì†Œë¹„ í™œë™ì´ ìœ„ì¶•ë˜ì§€ ì•Šë„ë¡ ì„¸ê¸ˆ ì œë„ë¥¼ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.'
            },
            {
                type: 'choice',
                difficulty: 'easy',
                question: 'ì„¸ê¸ˆì´ ì§€ë‚˜ì¹˜ê²Œ ë†’ì•„ì§€ë©´ ë‚˜íƒ€ë‚˜ëŠ” í˜„ìƒìœ¼ë¡œ ì˜³ì§€ ì•Šì€ ê²ƒì€?',
                options: ['ë¬¼ê±´ ê°’ ìƒìŠ¹', 'ì†Œë¹„ ê°ì†Œ', 'íˆ¬ì ê°ì†Œ', 'ê²½ì œ í™œë™ í™œì„±í™”', 'ì¼ìë¦¬ ê°ì†Œ'],
                answer: 3,
                explanation: '<strong>ì •ë‹µ: ê²½ì œ í™œë™ í™œì„±í™”</strong><br><br>ì„¸ê¸ˆì´ ì§€ë‚˜ì¹˜ê²Œ ë†’ì•„ì§€ë©´ ë¬¼ê±´ ê°’ì´ ì˜¤ë¥´ê³ , ì†Œë¹„ì™€ íˆ¬ìê°€ ì¤„ë©°, ì¼ìë¦¬ê°€ ê°ì†Œí•©ë‹ˆë‹¤. ê²½ì œ í™œë™ì€ <strong>í™œì„±í™”ê°€ ì•„ë‹ˆë¼ ìœ„ì¶•</strong>ë©ë‹ˆë‹¤.'
            },
            {
                type: 'blank',
                difficulty: 'easy',
                question: 'ì„¸ê¸ˆì€ ë‚˜ë¼ ì‚´ë¦¼ì— ê¼­ í•„ìš”í•˜ì§€ë§Œ, ë¶€ê³¼í•˜ëŠ” ë°©ì‹ì— ë”°ë¼ ì‚¬ëŒë“¤ì˜ ì†Œë¹„Â·ê·¼ë¡œÂ·<span class="blank">?</span> ê°™ì€ ê²½ì œ í™œë™ì´ í¬ê²Œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.',
                options: ['íˆ¬ì', 'ì €ì¶•', 'ì—¬í–‰'],
                answer: 0,
                explanation: '<strong>ì •ë‹µ: íˆ¬ì</strong><br><br>ì„¸ê¸ˆì€ ë¶€ê³¼í•˜ëŠ” ë°©ì‹ì— ë”°ë¼ ì‚¬ëŒë“¤ì˜ <strong>ì†Œë¹„Â·ê·¼ë¡œÂ·íˆ¬ì</strong> ê°™ì€ ê²½ì œ í™œë™ì´ í¬ê²Œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ êµ­ê°€ëŠ” í•„ìš”í•œ ì„¸ê¸ˆì„ ê±°ë‘ë˜, êµ­ë¯¼ì˜ ê²½ì œ í™œë™ì„ ì§€ë‚˜ì¹˜ê²Œ ë°©í•´í•˜ì§€ ì•Šë„ë¡ íš¨ìœ¨ì ì¸ ì¡°ì„¸ ì œë„ë¥¼ ì„¤ê³„í•´ì•¼ í•©ë‹ˆë‹¤.'
            },

            // ë³´í†µ (4ë¬¸ì œ)
            {
                type: 'choice',
                difficulty: 'medium',
                question: 'ì¹˜í‚¨ì— ì„¸ê¸ˆì´ ì¶”ê°€ë¡œ ë¶€ê³¼ë˜ë©´ ë‚˜íƒ€ë‚  ìˆ˜ ìˆëŠ” í˜„ìƒì„ ìˆœì„œëŒ€ë¡œ ë‚˜ì—´í•œ ê²ƒì€?',
                options: [
                    'ê°€ê²© ìƒìŠ¹ â†’ ì†Œë¹„ ì¦ê°€ â†’ ë§¤ì¶œ ì¦ê°€',
                    'ê°€ê²© í•˜ë½ â†’ ì†Œë¹„ ê°ì†Œ â†’ ë§¤ì¶œ ê°ì†Œ',
                    'ê°€ê²© ìƒìŠ¹ â†’ ì†Œë¹„ ê°ì†Œ â†’ ë§¤ì¶œ ê°ì†Œ',
                    'ê°€ê²© í•˜ë½ â†’ ì†Œë¹„ ì¦ê°€ â†’ ë§¤ì¶œ ì¦ê°€',
                    'ê°€ê²© ìœ ì§€ â†’ ì†Œë¹„ ìœ ì§€ â†’ ë§¤ì¶œ ìœ ì§€'
                ],
                answer: 2,
                explanation: '<strong>ì •ë‹µ: ê°€ê²© ìƒìŠ¹ â†’ ì†Œë¹„ ê°ì†Œ â†’ ë§¤ì¶œ ê°ì†Œ</strong><br><br>ì¹˜í‚¨ì— ì„¸ê¸ˆì´ ì¶”ê°€ë¡œ ë¶€ê³¼ë˜ë©´ ì¹˜í‚¨ ê°€ê²©ì´ ì˜¤ë¥´ê³ , ì†Œë¹„ìëŠ” ê°€ê²© ë¶€ë‹´ìœ¼ë¡œ ì¸í•´ ì¹˜í‚¨ì„ ëœ ì‚¬ ë¨¹ê²Œ ë˜ì–´ ë§¤ì¶œì´ ê°ì†Œí•©ë‹ˆë‹¤.'
            },
            {
                type: 'blank',
                difficulty: 'medium',
                question: 'íš¨ìœ¨ì ì¸ ì„¸ê¸ˆì€ êµ­ë¯¼ì˜ ë¶€ë‹´ì„ ì¤„ì´ê³  ê²½ì œ ì„±ì¥ì„ ë„ìš°ë©°, ì •ë¶€ê°€ ì•ˆì •ì ìœ¼ë¡œ <span class="blank">?</span>ì„(ë¥¼) ì œê³µí•˜ë„ë¡ í•œë‹¤.',
                options: ['ì„¸ê¸ˆ', 'ê³µê³µ ì„œë¹„ìŠ¤', 'ì¼ìë¦¬'],
                answer: 1,
                explanation: '<strong>ì •ë‹µ: ê³µê³µ ì„œë¹„ìŠ¤</strong><br><br>íš¨ìœ¨ì ì¸ ì„¸ê¸ˆì€ êµ­ë¯¼ì˜ ë¶€ë‹´ì„ ì¤„ì´ê³  ê²½ì œ ì„±ì¥ì„ ë„ìš°ë©°, ì •ë¶€ê°€ ì•ˆì •ì ìœ¼ë¡œ <strong>ê³µê³µ ì„œë¹„ìŠ¤</strong>ë¥¼ ì œê³µí•˜ë„ë¡ í•©ë‹ˆë‹¤.'
            },
            {
                type: 'choice',
                difficulty: 'medium',
                question: 'ê³¼ë„í•œ ì„¸ê¸ˆì´ ì¼ìë¦¬ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ìœ¼ë¡œ ì˜³ì€ ê²ƒì€?',
                options: [
                    'ê¸°ì—… íˆ¬ì ì¦ê°€ â†’ ê³ ìš© ì¦ê°€',
                    'ê¸°ì—… ë§¤ì¶œ ì¦ê°€ â†’ ì¼ìë¦¬ ì°½ì¶œ',
                    'ì†Œë¹„ ê°ì†Œ â†’ ë§¤ì¶œ ê°ì†Œ â†’ ì¼ìë¦¬ ê°ì†Œ',
                    'ìƒì‚° ë¹„ìš© ê°ì†Œ â†’ ê³ ìš© í™•ëŒ€',
                    'ê²½ì œ í™œë™ í™œì„±í™” â†’ ì¼ìë¦¬ ì¦ê°€'
                ],
                answer: 2,
                explanation: '<strong>ì •ë‹µ: ì†Œë¹„ ê°ì†Œ â†’ ë§¤ì¶œ ê°ì†Œ â†’ ì¼ìë¦¬ ê°ì†Œ</strong><br><br>ê³¼ë„í•œ ì„¸ê¸ˆì€ ì†Œë¹„ë¥¼ ì¤„ì´ê³ , ê°€ê²Œ ë§¤ì¶œë„ ê°ì†Œí•˜ì—¬ ì¸ê±´ë¹„ë¥¼ ì¤„ì´ê±°ë‚˜ ì˜ì—… ê·œëª¨ê°€ ì¶•ì†Œë  ìˆ˜ ìˆìœ¼ë©°, ê·¸ ê²°ê³¼ ì¼ìë¦¬ê¹Œì§€ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.'
            },
            {
                type: 'ox',
                difficulty: 'medium',
                question: 'êµ­ê°€ëŠ” í•„ìš”í•œ ì„¸ê¸ˆì„ ê±°ë‘ë˜, êµ­ë¯¼ì˜ ê²½ì œ í™œë™ì„ ì§€ë‚˜ì¹˜ê²Œ ë°©í•´í•˜ì§€ ì•Šë„ë¡ íš¨ìœ¨ì ì¸ ì¡°ì„¸ ì œë„ë¥¼ ì„¤ê³„í•´ì•¼ í•œë‹¤.',
                answer: true,
                explanation: '<strong>ì •ë‹µ: O</strong><br><br>ì¡°ì„¸ì˜ íš¨ìœ¨ì„±ì€ ì‚¬íšŒ ì „ì²´ì˜ ê±°ë˜ì™€ ìƒì‚°, ì†Œë¹„ í™œë™ì´ ìœ„ì¶•ë˜ì§€ ì•Šë„ë¡ í•˜ëŠ” ì¤‘ìš”í•œ ê¸°ì¤€ì…ë‹ˆë‹¤. ë”°ë¼ì„œ êµ­ê°€ëŠ” í•„ìš”í•œ ì„¸ê¸ˆì„ ê±°ë‘ë˜, êµ­ë¯¼ì˜ ê²½ì œ í™œë™ì„ ì§€ë‚˜ì¹˜ê²Œ ë°©í•´í•˜ì§€ ì•Šë„ë¡ <strong>íš¨ìœ¨ì ì¸ ì¡°ì„¸ ì œë„</strong>ë¥¼ ì„¤ê³„í•´ì•¼ í•©ë‹ˆë‹¤.'
            },

            // ì–´ë ¤ì›€ (2ë¬¸ì œ)
            {
                type: 'choice',
                difficulty: 'hard',
                question: 'ë‹¤ìŒ ì¤‘ ì¡°ì„¸ì˜ íš¨ìœ¨ì„±ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ì˜³ì§€ ì•Šì€ ê²ƒì€?',
                options: [
                    'í•„ìš”í•œ ì„¸ê¸ˆì„ í™•ë³´í•˜ë©´ì„œë„ ê²½ì œ í™œë™ì„ ìœ„ì¶•ì‹œí‚¤ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤',
                    'ì„¸ê¸ˆì„ ë§ì´ ê±·ì„ìˆ˜ë¡ íš¨ìœ¨ì„±ì´ ë†’ì•„ì§„ë‹¤',
                    'ì‚¬íšŒ ì „ì²´ì˜ ê±°ë˜ì™€ ìƒì‚°, ì†Œë¹„ í™œë™ì´ ìœ„ì¶•ë˜ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤',
                    'íš¨ìœ¨ì ì¸ ì„¸ê¸ˆì€ êµ­ë¯¼ì˜ ë¶€ë‹´ì„ ìµœì†Œí™”í•˜ê³  ê²½ì œ ì„±ì¥ì„ ë•ëŠ”ë‹¤',
                    'êµ­ê°€ëŠ” íš¨ìœ¨ì ì¸ ì¡°ì„¸ ì œë„ë¥¼ ì„¤ê³„í•´ì•¼ í•œë‹¤'
                ],
                answer: 1,
                explanation: '<strong>ì •ë‹µ: ì„¸ê¸ˆì„ ë§ì´ ê±·ì„ìˆ˜ë¡ íš¨ìœ¨ì„±ì´ ë†’ì•„ì§„ë‹¤</strong><br><br><strong>ì¡°ì„¸ì˜ íš¨ìœ¨ì„±</strong>ì€ ì„¸ê¸ˆì„ ë§ì´ ë˜ëŠ” ì ê²Œ ê±·ëŠ” ê²ƒ ìì²´ë¥¼ ì˜ë¯¸í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì ì •í•œ ìˆ˜ì¤€ì˜ ì„¸ê¸ˆì„ í™•ë³´í•˜ë©´ì„œë„ ì‚¬íšŒ ì „ì²´ì˜ ê±°ë˜ì™€ ìƒì‚°, ì†Œë¹„ í™œë™ì´ ì§€ë‚˜ì¹˜ê²Œ ìœ„ì¶•ë˜ì§€ ì•Šë„ë¡ í•˜ëŠ” ë° ì¤‘ìš”í•œ ê¸°ì¤€ì´ ë©ë‹ˆë‹¤.'
            },
            {
                type: 'choice',
                difficulty: 'hard',
                question: 'ì„¸ê¸ˆì´ ì§€ë‚˜ì¹˜ê²Œ ë†’ì•„ ê²½ì œ í™œë™ì´ ìœ„ì¶•ë˜ë©´ ë‚˜íƒ€ë‚˜ëŠ” ê²°ê³¼ë¡œ ì ì ˆí•œ ê²ƒì€?',
                options: [
                    'ì„¸ê¸ˆ ìˆ˜ì…ì´ ì¦ê°€í•œë‹¤',
                    'ê³µê³µ ì„œë¹„ìŠ¤ê°€ í™•ëŒ€ëœë‹¤',
                    'ì„¸ê¸ˆ ìˆ˜ì…ì´ ê°ì†Œí•œë‹¤',
                    'ê¸°ì—… íˆ¬ìê°€ ì¦ê°€í•œë‹¤',
                    'ì¼ìë¦¬ê°€ ëŠ˜ì–´ë‚œë‹¤'
                ],
                answer: 2,
                explanation: '<strong>ì •ë‹µ: ì„¸ê¸ˆ ìˆ˜ì…ì´ ê°ì†Œí•œë‹¤</strong><br><br>ì„¸ê¸ˆì´ ì§€ë‚˜ì¹˜ê²Œ ë†’ì•„ ê²½ì œ í™œë™ì´ ìœ„ì¶•ë˜ë©´, ì†Œë¹„ì™€ íˆ¬ìê°€ ì¤„ê³  ê±°ë˜ê°€ ê°ì†Œí•˜ì—¬ ì˜¤íˆë ¤ <strong>ì„¸ê¸ˆ ìˆ˜ì…ì´ ê°ì†Œ</strong>í•˜ê²Œ ë©ë‹ˆë‹¤. ë°˜ëŒ€ë¡œ ì„¸ê¸ˆì´ ì ì •í•˜ê²Œ ë¶€ê³¼ë˜ì–´ ê²½ì œ í™œë™ì´ ì˜ ìœ ì§€ë˜ë©´ í•„ìš”í•œ ì„¸ê¸ˆì„ í™•ë³´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
            }
        ];

        // ê²Œì„ ìƒíƒœ
        let currentQuestion = 0;
        let score = 0;
        let correctAnswers = 0;
        let timer = null;
        let timeLeft = 15;
        let totalResponseTime = 0;
        let answered = false;
        let wrongQuestions = []; // í‹€ë¦° ë¬¸ì œ ì¸ë±ìŠ¤ ì €ì¥
        let isRetryMode = false; // í‹€ë¦° ë¬¸ì œ ë‹¤ì‹œ í’€ê¸° ëª¨ë“œ
        let retryQuestions = []; // ë‹¤ì‹œ í’€ ë¬¸ì œ ëª©ë¡

        // í™”ë©´ ì „í™˜
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        // í€´ì¦ˆ ì‹œì‘
        function startQuiz() {
            currentQuestion = 0;
            score = 0;
            correctAnswers = 0;
            totalResponseTime = 0;
            wrongQuestions = [];
            isRetryMode = false;
            retryQuestions = [];
            showScreen('quizScreen');
            loadQuestion();
        }

        // ë¬¸ì œ ë¡œë“œ
        function loadQuestion() {
            answered = false;
            
            // í˜„ì¬ í’€ì–´ì•¼ í•  ë¬¸ì œ ëª©ë¡ ê²°ì •
            const questionList = isRetryMode ? retryQuestions : quizData;
            const data = questionList[currentQuestion];

            // ìƒë‹¨ ì •ë³´ ì—…ë°ì´íŠ¸
            document.getElementById('questionCounter').textContent = `${currentQuestion + 1} / ${questionList.length}`;
            document.getElementById('currentScore').textContent = score;

            // ë‚œì´ë„ ë°°ì§€
            const badge = document.getElementById('difficultyBadge');
            badge.className = 'difficulty-badge ' + data.difficulty;
            badge.textContent = data.difficulty === 'easy' ? 'ì‰¬ì›€' : data.difficulty === 'medium' ? 'ë³´í†µ' : 'ì–´ë ¤ì›€';

            // ë¬¸ì œ ìœ í˜• í‘œì‹œ
            const typeEl = document.getElementById('questionType');
            if (data.type === 'choice') {
                typeEl.textContent = 'ê°ê´€ì‹';
                typeEl.className = 'question-type choice';
            } else if (data.type === 'ox') {
                typeEl.textContent = 'O/X';
                typeEl.className = 'question-type ox';
            } else {
                typeEl.textContent = 'ë¹ˆì¹¸ ì±„ìš°ê¸°';
                typeEl.className = 'question-type blank';
            }

            // ë¬¸ì œ í…ìŠ¤íŠ¸
            document.getElementById('questionText').innerHTML = data.question;

            // ì„ íƒì§€ ìƒì„±
            const container = document.getElementById('optionsContainer');
            container.innerHTML = '';

            if (data.type === 'choice') {
                const grid = document.createElement('div');
                grid.className = 'options-grid';
                data.options.forEach((opt, idx) => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    btn.innerHTML = `
                        <span class="option-number">${idx + 1}</span>
                        <span class="option-text">${opt}</span>
                    `;
                    btn.onclick = () => selectAnswer(idx, data.answer, data.explanation);
                    grid.appendChild(btn);
                });
                container.appendChild(grid);
            } else if (data.type === 'ox') {
                const oxDiv = document.createElement('div');
                oxDiv.className = 'ox-options';
                
                const oBtn = document.createElement('button');
                oBtn.className = 'ox-btn o-btn';
                oBtn.textContent = 'O';
                oBtn.onclick = () => selectOX(true, data.answer, data.explanation);
                
                const xBtn = document.createElement('button');
                xBtn.className = 'ox-btn x-btn';
                xBtn.textContent = 'X';
                xBtn.onclick = () => selectOX(false, data.answer, data.explanation);
                
                oxDiv.appendChild(oBtn);
                oxDiv.appendChild(xBtn);
                container.appendChild(oxDiv);
            } else if (data.type === 'blank') {
                const blankDiv = document.createElement('div');
                blankDiv.className = 'blank-options';
                data.options.forEach((opt, idx) => {
                    const btn = document.createElement('button');
                    btn.className = 'blank-btn';
                    btn.textContent = opt;
                    btn.onclick = () => selectBlank(idx, data.answer, data.explanation, btn);
                    blankDiv.appendChild(btn);
                });
                container.appendChild(blankDiv);
            }

            // íƒ€ì´ë¨¸ ì‹œì‘
            startTimer();

            // ì¹´ë“œ ì• ë‹ˆë©”ì´ì…˜
            const card = document.getElementById('questionCard');
            card.style.animation = 'none';
            setTimeout(() => card.style.animation = 'cardAppear 0.6s ease', 10);
        }

        // íƒ€ì´ë¨¸ ì‹œì‘
        function startTimer() {
            timeLeft = 15;
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    if (!answered) {
                        timeOut();
                    }
                }
            }, 1000);
        }

        // íƒ€ì´ë¨¸ í‘œì‹œ ì—…ë°ì´íŠ¸
        function updateTimerDisplay() {
            const timerText = document.getElementById('timerText');
            timerText.textContent = timeLeft;
            
            // ì›í˜• ê²Œì´ì§€ ì—…ë°ì´íŠ¸
            const degree = (timeLeft / 15) * 360;
            document.getElementById('timerCircle').style.background = 
                `conic-gradient(var(--accent2) ${degree}deg, rgba(255,255,255,0.1) ${degree}deg)`;
            
            // ê²½ê³  ì• ë‹ˆë©”ì´ì…˜
            if (timeLeft <= 5) {
                timerText.classList.add('warning');
            } else {
                timerText.classList.remove('warning');
            }
        }

        // ì‹œê°„ ì´ˆê³¼
        function timeOut() {
            answered = true;
            const questionList = isRetryMode ? retryQuestions : quizData;
            const data = questionList[currentQuestion];
            
            // í‹€ë¦° ë¬¸ì œë¡œ ê¸°ë¡ (ì›ë³¸ ì¸ë±ìŠ¤ ì €ì¥)
            if (!isRetryMode) {
                wrongQuestions.push(currentQuestion);
            } else {
                // ì¬ì‹œë„ ëª¨ë“œì—ì„œë„ í‹€ë¦¬ë©´ ì›ë³¸ ì¸ë±ìŠ¤ ìœ ì§€
                const originalIndex = quizData.indexOf(data);
                if (!wrongQuestions.includes(originalIndex)) {
                    wrongQuestions.push(originalIndex);
                }
            }
            
            // ëª¨ë“  ë²„íŠ¼ ë¹„í™œì„±í™”
            document.querySelectorAll('.option-btn, .ox-btn, .blank-btn').forEach(btn => {
                btn.disabled = true;
            });
            
            showFeedback(false, data.explanation, true);
        }

        // ê°ê´€ì‹ ë‹µ ì„ íƒ
        function selectAnswer(selected, correct, explanation) {
            if (answered) return;
            answered = true;
            clearInterval(timer);
            
            totalResponseTime += (15 - timeLeft);
            
            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach((btn, idx) => {
                btn.disabled = true;
                if (idx === correct) btn.classList.add('correct');
                if (idx === selected && idx !== correct) btn.classList.add('wrong');
            });
            
            const isCorrect = selected === correct;
            if (isCorrect) {
                score += 10;
                correctAnswers++;
                document.getElementById('currentScore').textContent = score;
                // ì¬ì‹œë„ ëª¨ë“œì—ì„œ ë§ì¶”ë©´ í‹€ë¦° ë¬¸ì œ ëª©ë¡ì—ì„œ ì œê±°
                if (isRetryMode) {
                    const questionList = retryQuestions;
                    const data = questionList[currentQuestion];
                    const originalIndex = quizData.indexOf(data);
                    const wrongIdx = wrongQuestions.indexOf(originalIndex);
                    if (wrongIdx > -1) {
                        wrongQuestions.splice(wrongIdx, 1);
                    }
                }
            } else {
                // í‹€ë¦° ë¬¸ì œ ê¸°ë¡
                if (!isRetryMode) {
                    wrongQuestions.push(currentQuestion);
                }
            }
            
            setTimeout(() => showFeedback(isCorrect, explanation), 800);
        }

        // O/X ë‹µ ì„ íƒ
        function selectOX(selected, correct, explanation) {
            if (answered) return;
            answered = true;
            clearInterval(timer);
            
            totalResponseTime += (15 - timeLeft);
            
            const oBtn = document.querySelector('.o-btn');
            const xBtn = document.querySelector('.x-btn');
            oBtn.disabled = true;
            xBtn.disabled = true;
            
            if (correct === true) {
                oBtn.classList.add('correct');
                if (selected === false) xBtn.classList.add('wrong');
            } else {
                xBtn.classList.add('correct');
                if (selected === true) oBtn.classList.add('wrong');
            }
            
            const isCorrect = selected === correct;
            if (isCorrect) {
                score += 10;
                correctAnswers++;
                document.getElementById('currentScore').textContent = score;
                // ì¬ì‹œë„ ëª¨ë“œì—ì„œ ë§ì¶”ë©´ í‹€ë¦° ë¬¸ì œ ëª©ë¡ì—ì„œ ì œê±°
                if (isRetryMode) {
                    const questionList = retryQuestions;
                    const data = questionList[currentQuestion];
                    const originalIndex = quizData.indexOf(data);
                    const wrongIdx = wrongQuestions.indexOf(originalIndex);
                    if (wrongIdx > -1) {
                        wrongQuestions.splice(wrongIdx, 1);
                    }
                }
            } else {
                // í‹€ë¦° ë¬¸ì œ ê¸°ë¡
                if (!isRetryMode) {
                    wrongQuestions.push(currentQuestion);
                }
            }
            
            setTimeout(() => showFeedback(isCorrect, explanation), 800);
        }

        // ë¹ˆì¹¸ ë‹µ ì„ íƒ
        function selectBlank(selected, correct, explanation, btn) {
            if (answered) return;
            answered = true;
            clearInterval(timer);
            
            totalResponseTime += (15 - timeLeft);
            
            const buttons = document.querySelectorAll('.blank-btn');
            buttons.forEach((b, idx) => {
                b.disabled = true;
                if (idx === correct) b.classList.add('correct');
                if (idx === selected && idx !== correct) b.classList.add('wrong');
            });
            
            const isCorrect = selected === correct;
            if (isCorrect) {
                score += 10;
                correctAnswers++;
                document.getElementById('currentScore').textContent = score;
                // ì¬ì‹œë„ ëª¨ë“œì—ì„œ ë§ì¶”ë©´ í‹€ë¦° ë¬¸ì œ ëª©ë¡ì—ì„œ ì œê±°
                if (isRetryMode) {
                    const questionList = retryQuestions;
                    const data = questionList[currentQuestion];
                    const originalIndex = quizData.indexOf(data);
                    const wrongIdx = wrongQuestions.indexOf(originalIndex);
                    if (wrongIdx > -1) {
                        wrongQuestions.splice(wrongIdx, 1);
                    }
                }
            } else {
                // í‹€ë¦° ë¬¸ì œ ê¸°ë¡
                if (!isRetryMode) {
                    wrongQuestions.push(currentQuestion);
                }
            }
            
            setTimeout(() => showFeedback(isCorrect, explanation), 800);
        }

        // í”¼ë“œë°± í‘œì‹œ
        function showFeedback(isCorrect, explanation, isTimeout = false) {
            const overlay = document.getElementById('feedbackOverlay');
            const icon = document.getElementById('feedbackIcon');
            const title = document.getElementById('feedbackTitle');
            const exp = document.getElementById('feedbackExplanation');
            const nextBtn = document.getElementById('nextBtn');
            
            if (isTimeout) {
                icon.textContent = 'â°';
                title.textContent = 'ì‹œê°„ ì´ˆê³¼!';
                title.className = 'feedback-title timeout';
            } else if (isCorrect) {
                icon.textContent = 'ğŸ‰';
                title.textContent = 'ì •ë‹µì…ë‹ˆë‹¤!';
                title.className = 'feedback-title correct';
            } else {
                icon.textContent = 'ğŸ˜¢';
                title.textContent = 'ì•„ì‰¬ì›Œìš”!';
                title.className = 'feedback-title wrong';
            }
            
            exp.innerHTML = explanation;
            
            // ë§ˆì§€ë§‰ ë¬¸ì œë©´ ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½
            const questionList = isRetryMode ? retryQuestions : quizData;
            if (currentQuestion >= questionList.length - 1) {
                nextBtn.textContent = 'ê²°ê³¼ ë³´ê¸° â†’';
            } else {
                nextBtn.textContent = 'ë‹¤ìŒ ë¬¸ì œ â†’';
            }
            
            overlay.classList.add('show');
        }

        // ë‹¤ìŒ ë¬¸ì œ
        function nextQuestion() {
            document.getElementById('feedbackOverlay').classList.remove('show');
            currentQuestion++;
            
            const questionList = isRetryMode ? retryQuestions : quizData;
            
            if (currentQuestion >= questionList.length) {
                showResult();
            } else {
                loadQuestion();
            }
        }

        // ê²°ê³¼ í‘œì‹œ
        function showResult() {
            showScreen('resultScreen');
            
            const questionList = isRetryMode ? retryQuestions : quizData;
            const wrongCount = questionList.length - correctAnswers;
            const avgTime = (totalResponseTime / questionList.length).toFixed(1);
            
            document.getElementById('finalScore').textContent = score;
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('wrongCount').textContent = wrongCount;
            document.getElementById('avgTime').textContent = avgTime + 'ì´ˆ';
            
            // í‹€ë¦° ë¬¸ì œ ë‹¤ì‹œ í’€ê¸° ë²„íŠ¼ í™œì„±í™”/ë¹„í™œì„±í™”
            const retryBtn = document.getElementById('retryWrongBtn');
            if (wrongQuestions.length > 0) {
                retryBtn.disabled = false;
                retryBtn.textContent = `ğŸ” í‹€ë¦° ë¬¸ì œ ë‹¤ì‹œ í’€ê¸° (${wrongQuestions.length}ë¬¸ì œ)`;
            } else {
                retryBtn.disabled = true;
                retryBtn.textContent = 'ğŸ” í‹€ë¦° ë¬¸ì œ ì—†ìŒ';
            }
            
            // ê²°ê³¼ì— ë”°ë¥¸ ë©”ì‹œì§€
            const resultIcon = document.getElementById('resultIcon');
            const resultTitle = document.getElementById('resultTitle');
            const resultSubtitle = document.getElementById('resultSubtitle');
            
            if (score >= 90) {
                resultIcon.textContent = 'ğŸ†';
                resultTitle.textContent = 'ì™„ë²½í•´ìš”!';
                resultSubtitle.textContent = 'ì¡°ì„¸ì˜ íš¨ìœ¨ì„±ì„ ì™„ë²½íˆ ì´í•´í–ˆì–´ìš”!';
            } else if (score >= 70) {
                resultIcon.textContent = 'ğŸ‰';
                resultTitle.textContent = 'í›Œë¥­í•´ìš”!';
                resultSubtitle.textContent = 'íš¨ìœ¨ì ì¸ ì„¸ê¸ˆì˜ ì¤‘ìš”ì„±ì„ ì˜ ì•Œê³  ìˆë„¤ìš”!';
            } else if (score >= 50) {
                resultIcon.textContent = 'ğŸ‘';
                resultTitle.textContent = 'ì˜í–ˆì–´ìš”!';
                resultSubtitle.textContent = 'ì¡°ê¸ˆë§Œ ë” ë³µìŠµí•˜ë©´ ì™„ë²½í•´ì§ˆ ê±°ì˜ˆìš”!';
            } else {
                resultIcon.textContent = 'ğŸ’ª';
                resultTitle.textContent = 'ë‹¤ì‹œ ë„ì „!';
                resultSubtitle.textContent = 'êµê³¼ì„œë¥¼ í•œ ë²ˆ ë” ì½ê³  ë„ì „í•´ë´ìš”!';
            }
        }

        // í‹€ë¦° ë¬¸ì œ ë‹¤ì‹œ í’€ê¸°
        function retryWrongQuestions() {
            if (wrongQuestions.length === 0) return;
            
            // í‹€ë¦° ë¬¸ì œë“¤ë¡œ ìƒˆë¡œìš´ ë¬¸ì œ ëª©ë¡ ìƒì„±
            retryQuestions = wrongQuestions.map(idx => quizData[idx]);
            isRetryMode = true;
            currentQuestion = 0;
            score = 0;
            correctAnswers = 0;
            totalResponseTime = 0;
            
            showScreen('quizScreen');
            loadQuestion();
        }

        // í€´ì¦ˆ ì¬ì‹œì‘
        function restartQuiz() {
            showScreen('startScreen');
        }
    </script>
</body>
</html>
